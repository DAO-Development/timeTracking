(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},s=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0b79":function(e,t,n){e.exports=n.p+"img/A3DPhhAL6Zg.png"},1577:function(e,t,n){e.exports=n.p+"img/user1.png"},"18f3":function(e,t){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n(Source code omitted for this binary file)")},2254:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAABmCAYAAADh/4ItAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS6SURBVHgB7d3RddNIFAbge0fSObwhkgJWCexz0gGiAuhgsxVkqQDogFSw2Q6WCvB2kC1g12oAUN44x9ZcZmTLUcDX9oNGZpz/OyexLI+kY83v0cgj25w9OfkozOdMVJP/E/a3LWaq/K2Q3MricXLlvljm23a64WpVlrhOaNaW+erL1tVqPRBYXuSP3P/u7pzSwt9KIn5eO9+IPHZ1+MRPuzrMXX09bgsL5dIty1Ks1ulmpi4MH1wISror0H98hXvTbkPdBPU1ZNrbzP87Ou3WUS+Dt1zpXaDa9S4DuCh7F8LlNldBXKpdIH8IXUrz6vt5YwX0UV4U6+Z3FdTnKuvevH6FefcqrV3gXsWtKnrxkC97d7/prZfJLhe5v/1+HUpXu0zrMV2xT13GZuru5ASwJNa+MP7V5VI0IYCOUDWvq8niOCByRQAdpsniZik5Li66aWP50nUGzgkeBtdSWGPfdXezhiZf66pKuxnNp+q6mzb5ae5ig3A8EML0V7/+u86tWVd4RvbapQmnog8EW/v3uvlrw9F2Ul2aCA6fO6TM6upm3UNGXUhJExyYZedzHTUc/lTGncVMCA6a3dAIpJsWFJF37qzlHxqYe+fucvubbnIjxB8oEBZ57p5buaHIVf/d2uG3v8s+8MLuh6au1HUz7UF2dDJ1my42l+Lr2ef/fqdA0qPTt+7Jv9EeT6w98adzFMhu+8ALux82MQSgQDhAhXCACuEAFcIBKoQDVAgHqNKdSuVFkSRJSUOxkm99h0VskRw/vaBQrD3z1yhqGjIv3fZvKZRd9oEXYD9w07QX82wtRztI82clG/uR4DC4YZHZl+mLbcVwWAEVwgEqhANUCAeodjpbYZrXIjyhgTDx+abhahHxVyYd/GWK7YeStlzILe3lmnJDQ26X+d+dytEebBuuDj1c/rPY7SzwoQ3ZC+PTdRHYTzjw0csooEMKKoQDVAgHqBAOUCEcoBo9HNo34cDPBy0HqBAOUCEcoEI4QDV6OBrCW+exGD0c4sYiCaKAwwqoEA5QIRygQjhANX6HdPFN/hCBPbQcDcIRCRxWQIVwgArhABXCAarRw2Eagw5pJMY/lTUYeIsFDiugQjhAhXCACuEA1T7CgQ5pJEYPBxMG3mKBwwqoEA5QIRygQjhANX44xPxCEAW0HKBCOECFcIAK4QAVwgGq8cPBtiCIAloOUCEcoEI4QIVwgArhANUewsEFQRTQcoAK4QAVwgEqhANUCAeoRg0Hfk4jLmg5QIVwgArhABXCAapRw4Gf04jLqOHAz2nEBYcVUCEcoEI4QIVwgGrcDil+TiMqKQWS5b+ey3df8cRiy12WnRGdpfmzoj9vTvMbqquaYuXGlVJKi/4sJnu2bTG3z3K3L8r+vLH2BVMIbkdkxkxpWK9nn/9/T5HKjk6mA14i+d7ti9cUWJDDSpZQSUMTeUmRyo6Li4Gvnf2DRhjhDhIOsTx8RTKXaV6UFCPhNzSwjPlPCixIOJi4pADYmFcUmeT46asgV9yP8GIZPBxt54mDjaH85prTqM54jKVLCoR5+Bapb/iWw9iQr+7cdXQvKBa+X8BSUiiBW4/Bw+FOf55TSBF1TDPDbykwd6gN1vf4BngtQpdVOF3ZAAAAAElFTkSuQmCC"},2977:function(e,t,n){e.exports=n.p+"img/avatar.jpg"},"44b9":function(e,t,n){e.exports=n.p+"img/dao-logo-black.png"},"536c":function(e,t){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n(Source code omitted for this binary file)")},5469:function(e,t,n){var i={"./media/clients/dao-logo-black.png":"44b9","./media/clients/number.png":"2254","./media/contacts/9445bb5d2187e2812c79db70cf.jpg":"a637","./media/contacts/avatar.jpg":"937c","./media/documents/TZ.pdf":"18f3","./media/documents/test1.pdf":"536c","./media/news/9445bb5d2187e2812c79db70cf.jpg":"c887","./media/news/about.png":"7f19","./media/news/avatar.jpg":"2977","./media/news/dao_simple-page.png":"a42f","./media/news/reviews1.png":"8083","./media/objects/A3DPhhAL6Zg.png":"0b79","./media/users/9445bb5d2187e2812c79db70cf.jpg":"8b2d","./media/users/user1.png":"1577"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="5469"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-container",{staticClass:"flex-main"},[e.auth?n("Menu",{staticClass:"flex-sidebar"}):e._e(),n("router-view",{key:e.$route.path,on:{"set-auth":e.setAuth,"set-admin":e.setAdmin}})],1)],1)},s=[],o=n("1157"),r=n.n(o),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"menu"},[i("div",{staticClass:"menu-burger",on:{click:e.showMobileMenu}},[i("div",{staticClass:"menu-burger__item"}),i("div",{staticClass:"menu-burger__item"}),i("div",{staticClass:"menu-burger__item"})]),i("div",{staticClass:"menu__profile",on:{click:function(t){return e.goPage(0)}}},[null!=e.user.photo_path?i("v-img",{attrs:{"lazy-src":n("5469")("./media"+e.user.photo_path),src:n("5469")("./media"+e.user.photo_path)}}):e._e()],1),i("v-navigation-drawer",{staticClass:"menu-list",attrs:{permanent:"",color:"primary"}},[i("v-list",[i("v-list-item-group",{model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}},[i("v-list-item",{on:{click:function(t){return e.goPage(0)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-home")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Главная")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(1)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-bullhorn")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Новости")])],1),i("v-list-item-icon",[i("v-icon",[e._v("$tile")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(2)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Профиль")])],1),i("v-list-item-icon",[i("v-icon",[e._v("mdi-pencil")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(3)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-group")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Работники")])],1),i("v-list-item-icon",[i("v-icon",[e._v("$tile")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(4)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-handshake")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Клиенты")])],1),i("v-list-item-icon",[i("v-icon",[e._v("$tile")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(5)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-box")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Контакты")])],1),i("v-list-item-icon",[i("v-icon",[e._v("$tile")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(6)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-crane")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Объекты")])],1),i("v-list-item-icon",[i("v-icon",[e._v("$tile")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(7)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-cash")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Бухгалтерия")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(8)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-cog-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Настройки")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(9)}}},[i("v-list-item-icon",[i("v-icon",[e._v("$support")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Поддержка")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(10)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-calendar-range")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Календарь")])],1)],1),i("v-list-item",{on:{click:function(t){return e.goPage(11)}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-exit-to-app")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Выход")])],1)],1)],1)],1)],1)],1)},c=[],u=(n("b0c0"),{name:"Menu",created:function(){switch(console.log("init Menu"),r()(window).width()<="568"&&(console.log("<= 568"),this.loadUser()),console.log(this.$router.getMatchedComponents()[0].name),this.$router.getMatchedComponents()[0].name){case"Index":this.selectedItem=0,this.page="Главная";break;case"News":this.selectedItem=1,this.page="Новости";break;case"Profile":this.selectedItem=2,this.page="Профиль";break;case"Workers":this.selectedItem=3,this.page="Работники";break;case"Clients":this.selectedItem=4,this.page="Клиенты";break;case"Contacts":this.selectedItem=5,this.page="Контакты";break;case"Objects":this.selectedItem=6,this.page="Объекты";break;case"Settings":this.selectedItem=8,this.page="Настройки";break;case"Support":this.selectedItem=9,this.page="Поддержка";break;case"Calendar":this.selectedItem=10,this.page="Календарь";break}console.log(this.selectedItem),console.log(this.page)},data:function(){return{user:{},selectedItem:0,items:[{text:"Объекты",name:"Objects"},{text:"Работники",name:"Workers"},{text:"Клиенты",name:"Clients"},{text:"Контакты",name:"Contacts"}],page:""}},methods:{goPage:function(e){if(console.log("go page"),e!==this.selectedItem)switch(r()(".menu").hasClass("open")&&r()(".menu").removeClass("open"),e){case 0:this.$router.push({name:"Index"}),this.selectedItem=0;break;case 1:this.$router.push({name:"News"}),this.selectedItem=1;break;case 2:this.$router.push({name:"Profile"}),this.selectedItem=2;break;case 3:this.$router.push({name:"Workers"}),this.selectedItem=3;break;case 4:this.$router.push({name:"Clients"}),this.selectedItem=4;break;case 5:this.$router.push({name:"Contacts"}),this.selectedItem=5;break;case 6:this.$router.push({name:"Objects"}),this.selectedItem=6;break;case 7:break;case 8:this.$router.push({name:"Settings"}),this.selectedItem=8;break;case 9:break;case 10:break;case 11:this.logout();break}},logout:function(){var e=this;r.a.ajax({url:this.$hostname+"auth/token/logout/",type:"POST",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},success:function(){localStorage.clear(),sessionStorage.clear(),window.location="/"},error:function(t){e.alertError=!0,e.alertMsg="Непредвиденная ошибка",console.log(t.data)}})},showMobileMenu:function(){console.log("open menu"),r()(".menu").hasClass("open")?r()(".menu").removeClass("open"):r()(".menu").addClass("open")},loadUser:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/user",type:"GET",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},success:function(t){e.user=t.data.data,console.log(e.user.photo_path)},error:function(t){500===t.status?console.log("Ошибка соединения с сервером"):401===t.status?e.$refresh():console.log("Непредвиденная ошибка")}})}}}),d=u,f=n("2877"),_=n("6544"),v=n.n(_),m=n("132d"),p=n("adda"),h=n("8860"),C=n("da13"),g=n("5d23"),b=n("1baa"),w=n("34c3"),k=n("f774"),x=Object(f["a"])(d,l,c,!1,null,"2cbf8925",null),y=x.exports;v()(x,{VIcon:m["a"],VImg:p["a"],VList:h["a"],VListItem:C["a"],VListItemContent:g["a"],VListItemGroup:b["a"],VListItemIcon:w["a"],VListItemTitle:g["c"],VNavigationDrawer:k["a"]}),i["a"].prototype.$hostname="https://shielded-plateau-96200.herokuapp.com/",i["a"].prototype.$admin=!1,i["a"].prototype.$refresh=function(){localStorage.clear(),sessionStorage.clear(),this.$router.push({name:"Index"}),r.a.ajaxSetup({headers:{Authorization:""}})};var $={name:"App",components:{Menu:y},created:function(){console.log("init App"),console.log("Почему-то не работало"),(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))&&(this.auth=!0)},data:function(){return{auth:!1}},methods:{setAuth:function(){console.log("auth"),this.auth=!0},setAdmin:function(){i["a"].prototype.$admin=!0}}},P=$,D=(n("034f"),n("7496")),j=n("a523"),V=Object(f["a"])(P,a,s,!1,null,null,null),F=V.exports;v()(V,{VApp:D["a"],VContainer:j["a"]});var I=n("8c4f"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index news flex-content"},[n("Header"),n("div",{staticClass:"summary-box"},[n("h1",[e._v("Главная")]),e.auth?n("section",[n("div",{staticClass:"index__hello"},[e._v(" Добро пожаловать, "+e._s(e.user.name)+" "+e._s(e.user.lastname)+" ")]),n("div",{staticClass:"index__today"},[n("h2",[e._v("На сегодня")]),n("ul",{staticClass:"today-list"},[n("li",[n("span",{staticClass:"today__unit bold-text"},[e._v("Новости:")]),n("span",{staticClass:"today__quantity"},[e._v(e._s(e.statistics.news)+" новостей")])]),n("li",[n("span",{staticClass:"today__unit bold-text"},[e._v("Работники:")]),n("span",{staticClass:"today__quantity"},[e._v(e._s(e.statistics.workers.all)+" работников")]),n("span",{staticClass:"today__now"},[e._v("Новых на сегодня: "+e._s(e.statistics.workers.today))]),n("span",{staticClass:"today__now"},[e._v("Работает: "+e._s(e.statistics.workers.in_work))])]),n("li",[n("span",{staticClass:"today__unit bold-text"},[e._v("Клиенты:")]),n("span",{staticClass:"today__quantity"},[e._v(e._s(e.statistics.clients.all)+" клиентов")]),n("span",{staticClass:"today__now"},[e._v("Новых на сегодня: "+e._s(e.statistics.clients.today))])]),n("li",[n("span",{staticClass:"today__unit bold-text"},[e._v("Объекты:")]),n("span",{staticClass:"today__quantity"},[e._v(e._s(e.statistics.objects.all)+" объектов")]),n("span",{staticClass:"today__now"},[e._v("В работе: "+e._s(e.statistics.objects.in_work))])]),e._m(0)])])]):e._e(),e.auth?n("section",{staticClass:"widgets"},[n("div",{staticClass:"unit-title"},[n("h1",[e._v("Виджеты")]),n("v-btn",{attrs:{color:"primary",fab:"","x-small":""},on:{click:function(t){e.addWidgetForm=!0}}},[n("v-icon",[e._v("mdi-plus")])],1)],1),n("div",{staticClass:"index__widgets"},[e._l(e.notes,(function(t,i){return[n("div",{key:t.id,staticClass:"widgets-single"},[n("div",{staticClass:"widgets-single__header"},[n("h3",[e._v("Блокнот "+e._s(i+1))]),n("div",{staticClass:"widgets-single__actions"},[n("v-btn",{attrs:{color:"error",fab:"","x-small":""},on:{click:function(n){return e.deleteNote(t.id)}}},[n("v-icon",[e._v("mdi-delete")])],1),n("v-btn",{attrs:{color:"primary",fab:"","x-small":""}},[n("v-icon",[e._v("mdi-autorenew")])],1)],1)]),n("div",{staticClass:"widgets-single__content"},[n("div",{staticClass:"note__header"},[e._v(" Последнее сохранение: "),n("span",[e._v(e._s(t.last_save))]),n("div",{staticClass:"widgets-single__actions"},[n("v-btn",{attrs:{color:"secondary",fab:"","x-small":""},on:{click:function(n){e.newNote=t,e.addNoteForm=!0}}},[n("v-icon",[e._v("mdi-pencil")])],1)],1)]),n("div",{staticClass:"note__content",style:"background: "+t.color},[n("pre",[e._v(e._s(t.text))])])])])]}))],2)]):e._e(),e.auth?e._e():n("div",{staticClass:"news-all all"},[n("div",{staticClass:"news-all__grid"},[e._l(e.news,(function(t){return[t.photo_path?n("v-card",{key:t.id,staticClass:"news-single",style:{"background-image":"url("+e.$hostname+"media"+t.photo_path+")","background-size":"cover","background-position":"center"},attrs:{color:"primary"},on:{click:function(n){return e.$router.push({name:"NewOpen",params:{id:t.id}})}}},[n("div",{staticClass:"news-single__title"},[e._v(e._s(t.title))]),n("div",{staticClass:"news-single__text",domProps:{innerHTML:e._s(t.text)}})]):n("v-card",{key:t.id,staticClass:"news-single",attrs:{color:"primary"},on:{click:function(n){return e.$router.push({name:"NewOpen",params:{currentNew:t,id:t.id}})}}},[n("div",{staticClass:"news-single__title"},[e._v(e._s(t.title))]),n("div",{staticClass:"news-single__text",domProps:{innerHTML:e._s(t.text)}})])]}))],2)])]),e.auth?e._e():n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.goLogin}},[e._v("Войти")]),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.addWidgetForm,callback:function(t){e.addWidgetForm=t},expression:"addWidgetForm"}},[n("v-card",[n("v-card-title",[e._v(" Выберите виджет ")]),n("v-card-text",[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",{on:{click:e.openAddNote}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-text")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Блокнот")])],1)],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.addNoteForm,callback:function(t){e.addNoteForm=t},expression:"addNoteForm"}},[n("v-card",[n("v-card-text",[n("h2",[e._v("Блокнот")]),n("v-textarea",{style:"background: "+e.color,attrs:{filled:""},model:{value:e.newNote.text,callback:function(t){e.$set(e.newNote,"text",t)},expression:"newNote.text"}}),n("v-color-picker",{model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),n("v-card-actions",[n("v-btn",{attrs:{color:"secondary"},on:{click:e.closeNoteForm}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.saveNote}},[e._v("Сохранить")])],1)],1)],1)],1)},A=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("span",{staticClass:"today__unit bold-text"},[e._v("Календарь:")]),n("span",{staticClass:"today__quantity"},[e._v("12 события")]),n("span",{staticClass:"today__now"},[e._v("На этой неделе: ")]),n("span",{staticClass:"today__now"},[e._v("Сегодня:")])])}],O=(n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[e._m(0),n("div",{staticClass:"header__right"},[n("div",{staticClass:"header__datetime"},[n("span",[e._v(e._s(e.date))]),e._v(" "),n("span",{staticClass:"line"}),e._v(" "),n("span",[e._v(e._s(e.time))])])])])}),T=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header__left"},[i("img",{staticClass:"header__logo",attrs:{src:n("cf05"),alt:"logo.png"}})])}],M={name:"Header",created:function(){var e=this;this.refreshTime(),setInterval((function(){e.refreshTime()}),1e3)},computed:{date:function(){var e=new Date;return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()}},data:function(){return{time:""}},methods:{refreshTime:function(){var e=new Date,t=e.getMinutes();t<10&&(t="0"+t),this.time=e.getHours()+":"+t}}},S=M,L=Object(f["a"])(S,O,T,!1,null,"cff4b776",null),N=L.exports,R={name:"Index",components:{Header:N},created:function(){console.log("init Index"),(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))&&(this.auth=!0),this.loadData()},data:function(){return{auth:!1,news:{},user:{},statistics:{news:0,workers:{},clients:{},objects:{}},widgets:[],notes:[],newNote:{id:0,color:"",text:"",last_save:""},addWidgetForm:!1,addNoteForm:!1,hex:"#FFC6C6"}},computed:{color:{get:function(){return this["hex"]},set:function(e){this["hex"]=e}}},methods:{goLogin:function(){this.$router.push({name:"Login"})},loadData:function(){var e=this;this.auth?(r.a.ajax({url:this.$hostname+"time-tracking/user",type:"GET",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},success:function(t){e.user=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}),this.loadStatistics(),this.loadNotes()):r.a.ajax({url:this.$hostname+"time-tracking/news",type:"GET",success:function(t){e.news=t.data.data},error:function(t){e.alertError=!0,e.alertMsg="Непредвиденная ошибка",console.log(t.data)}})},loadStatistics:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/statistics",type:"GET",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},success:function(t){e.statistics=t.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadNotes:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/notes",type:"GET",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},success:function(t){e.notes=t.data.data,e.notes.forEach((function(e){var t=new Date(e.last_save),n="";switch(t.getDay()){case 1:n+="Понедельник";break;case 2:n+="Вторник";break;case 3:n+="Среда";break;case 4:n+="Четверг";break;case 5:n+="Пятница";break;case 6:n+="Суббота";break;case 7:n+="Воскресенье";break}e.last_save=n+" "+t.toISOString().substring(0,10)+" "+t.toISOString().substring(11,16)}))},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},saveNote:function(){var e=this;this.newNote.color=this.color,this.newNote.last_save=(new Date).toISOString(),0===this.newNote.id?r.a.ajax({url:this.$hostname+"time-tracking/notes",type:"POST",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},data:this.newNote,success:function(){e.closeNoteForm(),e.loadNotes()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}):this.putNote()},putNote:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/notes",type:"PUT",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},data:this.newNote,success:function(){e.closeNoteForm(),e.loadNotes()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},deleteNote:function(e){var t=this;r.a.ajax({url:this.$hostname+"time-tracking/notes",type:"DELETE",headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))},data:{id:e},success:function(){t.loadNotes()},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},closeNoteForm:function(){this.addNoteForm=!1,this.newNote={id:0,color:"",text:""}},openAddNote:function(){this.addWidgetForm=!1,this.addNoteForm=!0}}},B=R,q=n("8336"),H=n("b0af"),W=n("99d9"),z=n("03a4"),G=n("169a"),U=n("a844"),Z=Object(f["a"])(B,E,A,!1,null,"4b7624cb",null),Q=Z.exports;v()(Z,{VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VColorPicker:z["a"],VDialog:G["a"],VIcon:m["a"],VList:h["a"],VListItem:C["a"],VListItemContent:g["a"],VListItemGroup:b["a"],VListItemIcon:w["a"],VListItemTitle:g["c"],VTextarea:U["a"]});var K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"profile__image"},[null!=e.user.photo_path?n("v-img",{attrs:{"lazy-src":e.$hostname+"media"+e.user.photo_path,src:e.$hostname+"media"+e.user.photo_path}}):e._e()],1),n("div",{staticClass:"profile__info"},[n("h3",[e._v("Личная информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Имя")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Фамилия")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.lastname))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Дата рождения")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.birthdate))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Гражданство")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.citizenship))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Должность")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.position))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Номер соц. страхования")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.social_code_own))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Финский номер соц. страхования")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.social_code_fin))])])]),n("h3",[e._v("Контакты")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.phone))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон в Финляндии")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.phone_fin))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("E-mail")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.auth_user_id.email))])])]),n("h3",[e._v("Банковская информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Налоговый номер")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.tax_number))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Счет в банке")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.bank_account))])])]),n("div",{staticClass:"open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(t){e.full=!e.full}}},[e.full?n("span",[e._v("Скрыть полную информацию")]):e._e(),e.full?e._e():n("span",[e._v("Показать полную информацию")])])]),e.full?n("div",{staticClass:"profile__info profile__info-full"},[n("h3",[e._v("Адреса")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Адрес в своей стране")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.address_own))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Адрес в Финляндии")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.address_fin))])])]),n("h3",[e._v("Одежда (размеры)")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Ботинки")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.boots))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Куртка")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.jacket))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Штаны")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.pants))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Футболка")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.shirt))])])]),n("h3",[e._v("Языки")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Русский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.user.russian,callback:function(t){e.$set(e.user,"russian",t)},expression:"user.russian"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Английский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.user.english,callback:function(t){e.$set(e.user,"english",t)},expression:"user.english"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Эстонский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.user.estonian,callback:function(t){e.$set(e.user,"estonian",t)},expression:"user.estonian"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Финский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.user.finnish,callback:function(t){e.$set(e.user,"finnish",t)},expression:"user.finnish"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Другие")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.other_language))])])]),n("h3",[e._v("Другое")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Свой автомобиль")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.user.auto,callback:function(t){e.$set(e.user,"auto",t)},expression:"user.auto"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Свой инструмент")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.user.tool,callback:function(t){e.$set(e.user,"tool",t)},expression:"user.tool"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Навыки")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.user.skills))])])])]):e._e()])]),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1)},X=[],Y={name:"Profile",data:function(){return{page:"profile",user:{auth_user_id:{email:""}},groups:[],full:!1,alertError:!1,alertMsg:""}},created:function(){console.log("init Profile"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Index"})},methods:{loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/user",type:"GET",success:function(t){e.user=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})}}},J=Y,ee=n("0798"),te=n("ac7c"),ne=Object(f["a"])(J,K,X,!1,null,null,null),ie=ne.exports;v()(ne,{VAlert:ee["a"],VCheckbox:te["a"],VImg:p["a"]});var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"logo"},[e._v("logo")]),n("v-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:e.authForm}},[n("h1",[e._v("Авторизация")]),n("v-text-field",{attrs:{placeholder:"Логин",rules:e.usernameRules,required:"","append-icon":"$login",outlined:""},model:{value:e.authForm.login,callback:function(t){e.$set(e.authForm,"login",t)},expression:"authForm.login"}}),n("v-text-field",{attrs:{placeholder:"Пароль",type:"password",rules:e.passwordRules,required:"","append-icon":"$password",outlined:""},model:{value:e.authForm.password,callback:function(t){e.$set(e.authForm,"password",t)},expression:"authForm.password"}}),n("v-checkbox",{attrs:{label:"Запомнить меня"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),n("v-btn",{attrs:{color:"primary"},on:{click:e.setLogin}},[e._v("Войти")])],1),n("button",{staticClass:"login__recover-btn",on:{click:e.goRecover}},[e._v("Забыли пароль?")]),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")]),n("v-alert",{attrs:{"close-text":"Закрыть",color:"success",dismissible:""},model:{value:e.alertSuccess,callback:function(t){e.alertSuccess=t},expression:"alertSuccess"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1)},se=[],oe={name:"Login",data:function(){return{authForm:{login:"",password:""},checkbox:!1,usernameRules:[function(e){return!!e||"Необходимо заполнить почту пользователя"},function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],passwordRules:[function(e){return!!e||"Необходимо заполнить пароль"}],alertError:!1,alertSuccess:!1,alertMsg:""}},created:function(){(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))&&this.$router.push({name:"Index"})},methods:{setLogin:function(){var e=this;this.$refs.form.validate()&&r.a.ajax({url:this.$hostname+"auth/token/login",type:"POST",data:{email:this.authForm.login,password:this.authForm.password},success:function(t){e.$emit("set-auth"),e.checkbox?localStorage.setItem("auth_token",t.data.attributes.auth_token):sessionStorage.setItem("auth_token",t.data.attributes.auth_token),e.$router.push({name:"Index"})},error:function(t){switch(console.log(t),e.alertError=!0,e.alertMsg="Непредвиденная ошибка",t.status){case 400:e.alertMsg="Пользователя с такой почтой не существует";break;case 403:e.alertMsg="Неверный пароль";break;case 404:e.alertMsg="Страница не найдена";break}}})},goRecover:function(){this.$router.push({name:"RecoverPassword"})}}},re=oe,le=n("4bd4"),ce=n("8654"),ue=Object(f["a"])(re,ae,se,!1,null,"4a1daddc",null),de=ue.exports;v()(ue,{VAlert:ee["a"],VBtn:q["a"],VCheckbox:te["a"],VForm:le["a"],VTextField:ce["a"]});var fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"logo"},[e._v("logo")]),n("v-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:e.authForm}},[n("h1",[e._v("Восстановление пароля")]),n("v-text-field",{attrs:{placeholder:"Логин",rules:e.usernameRules,required:"","append-icon":"$login",outlined:""},model:{value:e.authForm.login,callback:function(t){e.$set(e.authForm,"login",t)},expression:"authForm.login"}}),n("v-btn",{attrs:{color:"primary"},on:{click:e.sendMessage}},[e._v("Восстановить пароль")])],1),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")]),n("v-alert",{attrs:{"close-text":"Закрыть",color:"success",dismissible:""},model:{value:e.alertSuccess,callback:function(t){e.alertSuccess=t},expression:"alertSuccess"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1)},_e=[],ve={name:"RecoverPassword",data:function(){return{authForm:{login:""},usernameRules:[function(e){return!!e||"Необходимо заполнить имя пользователя"}],alertError:!1,alertSuccess:!1,alertMsg:""}}},me=ve,pe=Object(f["a"])(me,fe,_e,!1,null,"9a2018f2",null),he=pe.exports;v()(pe,{VAlert:ee["a"],VBtn:q["a"],VForm:le["a"],VTextField:ce["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"news flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Новости")]),e.all?e._e():n("div",{staticClass:"addition-btn",on:{click:function(t){e.all=!0}}},[n("span",[e._v("К списку новостей")]),n("back-icon")],1)]),e.all?n("div",{staticClass:"news-all all"},[n("div",{staticClass:"news-all__grid"},[e._l(e.news,(function(t){return[t.photo_path?n("v-card",{key:t.id,staticClass:"news-single",style:{"background-image":"url("+e.$hostname+"media"+t.photo_path+")","background-size":"cover","background-position":"center"},attrs:{color:"primary"},on:{click:function(n){return e.openNew(t)}}},[n("div",{staticClass:"news-single__actions"},[n("v-icon",{on:{click:function(n){return e.deleteNew(t.id)}}},[e._v("$waste")]),n("v-icon",{on:{click:function(n){return e.openEditForm(t.id,t.title,t.text)}}},[e._v("$edit")])],1),n("div",{staticClass:"news-single__title"},[e._v(e._s(t.title))]),n("div",{staticClass:"news-single__text",domProps:{innerHTML:e._s(t.text)}})]):n("v-card",{key:t.id,staticClass:"news-single",attrs:{color:"primary"},on:{click:function(n){return e.openNew(t)}}},[n("div",{staticClass:"news-single__actions"},[n("v-icon",{on:{click:function(n){return e.deleteNew(t.id)}}},[e._v("$waste")]),n("v-icon",{on:{click:function(n){return e.openEditForm(t.id,t.title,t.text)}}},[e._v("$edit")])],1),n("div",{staticClass:"news-single__title"},[e._v(e._s(t.title))]),n("div",{staticClass:"news-single__text",domProps:{innerHTML:e._s(t.text)}})])]}))],2),n("v-list",[n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить новость")])],1)],1)],1)],1):n("div",{staticClass:"news-open"},[n("h4",[e._v(e._s(e.currentNew.title))]),n("div",{staticClass:"news-open__image"},[e.currentNew.photo_path?n("v-img",{attrs:{src:e.$hostname+"media"+e.currentNew.photo_path}}):e._e()],1),n("div",{staticClass:"news-open__text",domProps:{innerHTML:e._s(e.currentNew.text)}}),n("div",{staticClass:"news-open__actions open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(t){return e.openEditForm(e.currentNew.id,e.currentNew.title,e.currentNew.text)}}},[n("edit-icon"),e._v(" Редактировать новость ")],1),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.deleteNew(e.currentNew.id)}}},[n("waste-icon"),e._v(" Удалить новость ")],1)])])]),n("v-dialog",{staticClass:"news__dialog",model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeForm}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{placeholder:"Заголовок",rules:e.titleRules,required:"",outlined:""},model:{value:e.newNew.title,callback:function(t){e.$set(e.newNew,"title",t)},expression:"newNew.title"}}),n("v-editor",{attrs:{config:e.editorConfig},model:{value:e.newNew.text,callback:function(t){e.$set(e.newNew,"text",t)},expression:"newNew.text"}})],1),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1),n("v-card-actions",[n("div",{staticClass:"addition-btn",on:{click:function(t){e.photoDialog=!0}}},[n("add-photo-icon"),null==e.photoField?n("span",[e._v("Загрузить обложку")]):e._e(),null!=e.photoField?n("span",[e._v("Сменить обложку")]):e._e()],1),n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.addNew}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.photoDialog,callback:function(t){e.photoDialog=t},expression:"photoDialog"}},[n("v-card",[n("v-card-title",[e._v(" Сменить фото ")]),n("v-card-text",[n("v-file-input",{attrs:{placeholder:"Обложка новости",accept:"image/*","prepend-icon":"",outlined:""},model:{value:e.photoField,callback:function(t){e.photoField=t},expression:"photoField"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.closePhotoForm}},[e._v("Сохранить")])],1)],1)],1)],1)},ge=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8 5.6C8 5.17565 8.16857 4.76869 8.46863 4.46863C8.76869 4.16857 9.17565 4 9.6 4H14.4C14.8243 4 15.2313 4.16857 15.5314 4.46863C15.8314 4.76869 16 5.17565 16 5.6V7.2H19.2C19.4122 7.2 19.6157 7.28429 19.7657 7.43431C19.9157 7.58434 20 7.78783 20 8C20 8.21217 19.9157 8.41566 19.7657 8.56569C19.6157 8.71571 19.4122 8.8 19.2 8.8H18.3448L17.6512 18.5136C17.6225 18.9173 17.4418 19.2951 17.1457 19.5709C16.8495 19.8467 16.4599 20 16.0552 20H7.944C7.53931 20 7.14965 19.8467 6.85351 19.5709C6.55736 19.2951 6.37673 18.9173 6.348 18.5136L5.656 8.8H4.8C4.58783 8.8 4.38434 8.71571 4.23431 8.56569C4.08429 8.41566 4 8.21217 4 8C4 7.78783 4.08429 7.58434 4.23431 7.43431C4.38434 7.28429 4.58783 7.2 4.8 7.2H8V5.6ZM9.6 7.2H14.4V5.6H9.6V7.2ZM7.2592 8.8L7.9448 18.4H16.056L16.7416 8.8H7.2592ZM10.4 10.4C10.6122 10.4 10.8157 10.4843 10.9657 10.6343C11.1157 10.7843 11.2 10.9878 11.2 11.2V16C11.2 16.2122 11.1157 16.4157 10.9657 16.5657C10.8157 16.7157 10.6122 16.8 10.4 16.8C10.1878 16.8 9.98434 16.7157 9.83431 16.5657C9.68429 16.4157 9.6 16.2122 9.6 16V11.2C9.6 10.9878 9.68429 10.7843 9.83431 10.6343C9.98434 10.4843 10.1878 10.4 10.4 10.4ZM13.6 10.4C13.8122 10.4 14.0157 10.4843 14.1657 10.6343C14.3157 10.7843 14.4 10.9878 14.4 11.2V16C14.4 16.2122 14.3157 16.4157 14.1657 16.5657C14.0157 16.7157 13.8122 16.8 13.6 16.8C13.3878 16.8 13.1843 16.7157 13.0343 16.5657C12.8843 16.4157 12.8 16.2122 12.8 16V11.2C12.8 10.9878 12.8843 10.7843 13.0343 10.6343C13.1843 10.4843 13.3878 10.4 13.6 10.4Z",fill:"white"}})])},we=[],ke={name:"wasteIcon"},xe=ke,ye=Object(f["a"])(xe,be,we,!1,null,"f0835c60",null),$e=ye.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M19.4042 7.29413L16.6642 4.5442C16.3066 4.20708 15.838 4.01365 15.3475 4.0007C14.8571 3.98774 14.379 4.15617 14.0042 4.47395L5.0042 13.5065C4.68097 13.8337 4.47971 14.2625 4.4342 14.7209L4.0042 18.906C3.99073 19.053 4.00974 19.2012 4.05986 19.34C4.10999 19.4788 4.19001 19.6047 4.2942 19.7089C4.38764 19.8019 4.49846 19.8755 4.6203 19.9255C4.74213 19.9754 4.8726 20.0007 5.0042 20H5.0942L9.2642 19.6186C9.721 19.5729 10.1482 19.3709 10.4742 19.0465L19.4742 10.0139C19.8235 9.64357 20.0123 9.14933 19.9992 8.63952C19.9861 8.12971 19.7721 7.64591 19.4042 7.29413ZM9.0842 17.6114L6.0842 17.8924L6.3542 14.8815L12.0042 9.2813L14.7042 11.9911L9.0842 17.6114ZM16.0042 10.6462L13.3242 7.95652L15.2742 5.94928L18.0042 8.68916L16.0042 10.6462Z",fill:"white"}})])},De=[],je={name:"editIcon"},Ve=je,Fe=Object(f["a"])(Ve,Pe,De,!1,null,"6fd27fff",null),Ie=Fe.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M2.5 13.75L11.25 2.5V8.75C26.1913 8.75 27.915 20.8475 27.5 27.5C26.8725 24.1438 26.5813 18.75 11.25 18.75V25L2.5 13.75Z",stroke:"#616161","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},Ae=[],Oe={name:"backIcon"},Te=Oe,Me=Object(f["a"])(Te,Ee,Ae,!1,null,"76f211ad",null),Se=Me.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M20.2869 16.6843L15.0022 11.3997L9.71753 16.6843L11.0433 18.0101L14.0647 14.9888V29.0625H15.9397V14.9888L18.9611 18.0101L20.2869 16.6843Z",fill:"#616161"}}),n("path",{attrs:{d:"M23.4375 9.46014V9.375C23.4375 4.72266 19.6523 0.9375 15 0.9375C10.3477 0.9375 6.5625 4.72266 6.5625 9.375V9.52096C5.1739 9.78301 3.89379 10.4498 2.88316 11.4375C2.26815 12.0344 1.77908 12.7486 1.44489 13.5378C1.11069 14.3271 0.938164 15.1753 0.9375 16.0324C0.9375 17.8557 1.6868 19.5926 3.04746 20.9231C4.37695 22.2231 6.17215 22.9688 7.97285 22.9688H11.7188V21.0938H7.97285C5.22387 21.0938 2.8125 18.7286 2.8125 16.0324C2.8125 13.5557 4.90078 11.467 7.56662 11.2772L8.4375 11.2151V9.375C8.4375 7.63452 9.1289 5.96532 10.3596 4.73461C11.5903 3.5039 13.2595 2.8125 15 2.8125C16.7405 2.8125 18.4097 3.5039 19.6404 4.73461C20.8711 5.96532 21.5625 7.63452 21.5625 9.375V11.2523L22.4883 11.2641C25.2112 11.2985 27.1875 13.3039 27.1875 16.0324C27.1875 18.8705 25.0984 21.0938 22.4314 21.0938H18.2812V22.9688H22.4314C23.3247 22.9717 24.2088 22.7885 25.0274 22.4308C25.846 22.0731 26.581 21.5489 27.1857 20.8914C28.396 19.5902 29.0625 17.8646 29.0625 16.0324C29.0625 12.6083 26.7021 9.92531 23.4375 9.46014Z",fill:"#616161"}})])},Ne=[],Re={name:"addPhotoIcon"},Be=Re,qe=Object(f["a"])(Be,Le,Ne,!1,null,"e50887ec",null),He=qe.exports,We={name:"News",components:{BackIcon:Se,EditIcon:Ie,WasteIcon:$e,AddPhotoIcon:He},data:function(){return{page:"news",all:!0,news:"",newNew:{id:0,title:"",text:"",photo_path:null},photoField:null,currentNew:{id:0,title:"",text:"",photo_path:null},titleRules:[function(e){return!!e||"Необходимо ввести заголовок"}],formTitle:"Добавление новости",formBtnText:"Добавить новость",addForm:!1,photoDialog:!1,alertError:!1,alertSuccess:!1,alertMsg:"",options:{},editorConfig:{printLog:!1,uploadImgUrl:"http://localhost:2233/api/upload",menus:["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","|","insertcode","|","undo","redo","fullscreen"],useLang:"en",pasteText:!0},disableEditor:{printLog:!1,disable:!0}}},created:function(){console.log("init News"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Login"})},methods:{onChange:function(){console.log(this.newNew.text.text())},uploadCallback:function(e){console.log("uploaded url",e)},loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/news",type:"GET",success:function(t){e.news=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},addNew:function(){var e=this;if(this.$refs.form.validate())if(this.newNew.id>0)this.editNew();else{var t=n("bc3a"),i=new FormData,a=this.photoField;void 0!==this.photoField&&i.append("image",a),i.append("title",this.newNew.title),i.append("text",this.newNew.text),t({method:"post",url:this.$hostname+"time-tracking/news",headers:{Authorization:"Token "+(sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token"))},data:i}).then((function(t){console.log(t.data.data),e.photoDialog=!1,e.closeForm(),e.loadData()}))}else this.alertError=!0,this.alertMsg="Заполните обязательные поля"},editNew:function(){var e=this,t=n("bc3a"),i=new FormData,a=this.photoField;console.log(this.currentNew.photo_path),null!==this.photoField&&i.append("image",a),i.append("title",this.newNew.title),i.append("text",this.newNew.text),i.append("id",this.newNew.id),t({method:"put",url:this.$hostname+"time-tracking/news",headers:{Authorization:"Token "+(sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token"))},data:i}).then((function(t){console.log(t.data.data),e.photoDialog=!1,e.closeForm(),e.loadData(),null!==e.photoField&&(e.currentNew.photo_path="/news/"+e.photoField.name,e.photoField=null)}))},deleteNew:function(e){var t=this;r.a.ajax({url:this.$hostname+"time-tracking/news",type:"DELETE",data:{id:e},success:function(){t.alertMsg="Новость удалена",t.loadData(),t.all=!0},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},openAddForm:function(){this.formTitle="Добавление новости",this.formBtnText="Добавить новость",this.addForm=!0},openEditForm:function(e,t,n){this.formTitle="Редактирование новости",this.formBtnText="Сохранить новость",this.newNew={id:e,title:t,text:n},this.addForm=!0},closeForm:function(){this.addForm=!1,this.newNew={id:0,title:"",text:"",photo:null}},closePhotoForm:function(){this.photoDialog=!1},openNew:function(e){this.currentNew=e,this.all=!1}}},ze=We,Ge=n("23a7"),Ue=n("2fa4"),Ze=n("71d9"),Qe=Object(f["a"])(ze,Ce,ge,!1,null,"48eff06e",null),Ke=Qe.exports;v()(Qe,{VAlert:ee["a"],VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VDialog:G["a"],VFileInput:Ge["a"],VForm:le["a"],VIcon:m["a"],VImg:p["a"],VList:h["a"],VListItem:C["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemTitle:g["c"],VSpacer:Ue["a"],VTextField:ce["a"],VToolbar:Ze["a"]});var Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"objects flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Объекты")]),e.all?e._e():n("div",{staticClass:"addition-btn",on:{click:function(t){e.all=!0}}},[n("span",[e._v("К списку объектов")]),n("back-icon")],1),e.all?n("div",{staticClass:" addition-btn content-list__filters-mobile",on:{click:e.openFilters}},[e._v("Фильтры ")]):e._e()]),e.all?n("div",{staticClass:"objects-all all"},[n("div",{staticClass:"content-list__filters"},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:e.closeFilters}},[e._v(" $deleteIcon ")]),n("v-text-field",{attrs:{placeholder:"Адрес",outlined:""},model:{value:e.filter.address,callback:function(t){e.$set(e.filter,"address",t)},expression:"filter.address"}}),n("v-select",{attrs:{items:e.selects,outlined:""},model:{value:e.filter.client,callback:function(t){e.$set(e.filter,"client",t)},expression:"filter.client"}}),n("v-menu",{ref:"menu_filter",attrs:{"close-on-content-click":!1,"return-value":e.filter.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.filter,"dates",t)},"update:return-value":function(t){return e.$set(e.filter,"dates",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{placeholder:"Начало работ",readonly:"",outlined:""},model:{value:e.filter.dates,callback:function(t){e.$set(e.filter,"dates",t)},expression:"filter.dates"}},"v-text-field",a,!1),i))]}}],null,!1,240686409),model:{value:e.datePickers.menu_filter,callback:function(t){e.$set(e.datePickers,"menu_filter",t)},expression:"datePickers.menu_filter"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:"",range:"",color:"primary"},model:{value:e.filter.dates,callback:function(t){e.$set(e.filter,"dates",t)},expression:"filter.dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.datePickers.menu_filter=!1}}},[e._v(" Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu_filter.save(e.filter.dates)}}},[e._v("OK")])],1)],1)],1),n("v-list",{staticClass:"objects__list content-list",attrs:{"three-line":""}},[e._l(e.objects,(function(t){return[t.active===e.archive&&(t.city+" "+t.street+" "+t.house).includes(e.filter.address)&&("Все"===e.filter.client||t.client_id.name===e.filter.client)&&("undefined"===typeof e.filter.dates[0]||t.date_start>=e.filter.dates[0])&&(t.date_start<=e.filter.dates[1]||"undefined"===typeof e.filter.dates[1])?n("v-list-item",{key:t.id},[n("v-list-item-content",{on:{click:function(n){return e.openObject(t)}}},[n("v-list-item-title",[e._v(e._s(t.city)+" "+e._s(t.street)+" "+e._s(t.house))]),n("v-list-item-subtitle",[n("span",[e._v(e._s(t.date_start)+" - "+e._s(t.date_end))]),n("br"),n("span",[e._v(e._s(t.client_id.name))])])],1),n("v-list-item-action",[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return e.openConfirmDeleteDialog(t)}}},[e._v("$deleteIcon")])],1)],1):e._e()]}))],2),n("v-list",{staticClass:"content-list__btns"},[e.archive?e._e():n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить объект")])],1)],1),e.archive?n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Выйти из архива")])],1)],1):n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Архив")])],1)],1)],1)],1):n("div",{staticClass:"objects-open"},[n("div",{staticClass:"objects-open__info profile__info"},[n("h3",[e._v("Информация об объекте")]),n("div",{staticClass:"news-open__actions open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(t){return e.openEditForm(e.currentObject)}}},[n("edit-icon"),e._v(" Редактировать объект ")],1),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.deleteObject(e.currentObject.id)}}},[n("waste-icon"),e._v(" Удалить объект ")],1)]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Объект сдан")]),n("v-checkbox",{on:{change:e.openConfirmArchiveDialog},model:{value:e.currentObject.active,callback:function(t){e.$set(e.currentObject,"active",t)},expression:"currentObject.active"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Клиент")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.client_id.name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Начало работ")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.date_start))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Окончание работ")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.date_end))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Описание работ")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.work_description))])])]),n("h3",[e._v("Адрес")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Улица")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.street))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Дом")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.house))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Подъезд")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.entrance))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Квартира")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.flat))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Город")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.city))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Индекс")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.index))])])]),n("h3",[e._v("Контактное лицо")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Фамилия")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.contact_id.lastname))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Имя")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.contact_id.name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.contact_id.work_phone))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("E-mail")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.contact_id.work_email))])])]),n("h3",[e._v("Дополнительная информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Жилье")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.habitation))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Страховка от несчастных случаев")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.accident_insurance))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Страховка здоровья")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentObject.health_insurance))])])]),n("h3",[e._v("Работники")]),n("v-list",{staticClass:"workers__list content-list",attrs:{"three-line":""}},[e._l(e.objectWorkers,(function(t){return[n("v-list-item",{key:t.id},[n("v-list-item-content",{on:{click:function(n){return e.openWorker(t)}}},[n("v-list-item-title",[e._v(e._s(t.user_profile_id.lastname)+" "+e._s(t.user_profile_id.name)+" ("+e._s(t.user_profile_id.phone)+") ")]),n("v-list-item-subtitle",[n("span",[e._v(e._s(t.start_date)+" - "+e._s(t.end_date))]),n("br"),n("span",[e._v(e._s(t.comment))])])],1),n("v-list-item-action",[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return e.openEditWorkerForm(t)}}},[e._v(" $edit ")]),n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return e.openConfirmDeleteWorkerDialog(t)}}},[e._v(" $waste ")])],1)],1)]}))],2),n("v-list",{staticClass:"content-list__btns"},[n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddWorkerForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить работника")])],1)],1)],1),n("h3",[e._v("Комментарии")]),n("div",{staticClass:"objects-open__comments"},e._l(e.comments.comments,(function(t){return n("div",{key:t.id,staticClass:"objects-open__comments-single"},[n("h4",[e._v(" "+e._s(t.user_profile_id.lastname)+" "+e._s(t.user_profile_id.name)+" ("+e._s(t.user_profile_id.position)+")")]),n("div",{domProps:{innerHTML:e._s(t.text)}}),n("div",{staticClass:"open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(n){e.answer=t.text,e.newComment.object_comments_id=t.id}}},[e._v(" Ответить ")]),t.user_profile_id.id===e.comments.profile?n("div",{staticClass:"addition-btn",on:{click:function(n){return e.deleteComment(t.id)}}},[e._v(" Удалить ")]):e._e()]),n("v-divider"),e._l(e.comments.data[t.id],(function(t){return n("div",{key:t.id,staticClass:"objects-open__comments-answers"},[n("h4",[e._v(" "+e._s(t.user_profile_id.lastname)+" "+e._s(t.user_profile_id.name)+" ("+e._s(t.user_profile_id.position)+")")]),n("div",{domProps:{innerHTML:e._s(t.text)}}),n("div",{staticClass:"open__actions"},[t.user_profile_id.id===e.comments.profile?n("div",{staticClass:"addition-btn",on:{click:function(n){return e.deleteComment(t.id)}}},[e._v(" Удалить ")]):e._e()])])}))],2)})),0),n("div",{staticClass:"objects-open__comments-add"},[n("v-editor",{attrs:{config:e.editorConfig},model:{value:e.newComment.text,callback:function(t){e.$set(e.newComment,"text",t)},expression:"newComment.text"}}),n("div",{staticClass:"objects-open__comments-add-actions"},[null!=e.newComment.object_comments_id?n("div",{staticClass:"objects-open__comments-add-answerfor"},[n("div",[e._v("Ответ на: "),n("div",{staticClass:"comments__answer",domProps:{innerHTML:e._s(e.answer)}})]),n("v-icon",{staticStyle:{width:"16px"},on:{click:function(t){e.newComment.object_comments_id=null}}},[e._v("$deleteIcon")])],1):e._e(),n("v-btn",{staticClass:"action-btn",attrs:{color:"secondary"},on:{click:e.addComment}},[e._v(" Добавить ")])],1)],1)],1)])]),n("v-dialog",{model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeForm}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{placeholder:"Индекс*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newObject.index,callback:function(t){e.$set(e.newObject,"index",t)},expression:"newObject.index"}}),n("v-row",[n("v-text-field",{attrs:{placeholder:"Город*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newObject.city,callback:function(t){e.$set(e.newObject,"city",t)},expression:"newObject.city"}}),n("v-text-field",{attrs:{placeholder:"Улица*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newObject.street,callback:function(t){e.$set(e.newObject,"street",t)},expression:"newObject.street"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newObject.house,callback:function(t){e.$set(e.newObject,"house",t)},expression:"newObject.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.newObject.entrance,callback:function(t){e.$set(e.newObject,"entrance",t)},expression:"newObject.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.newObject.flat,callback:function(t){e.$set(e.newObject,"flat",t)},expression:"newObject.flat"}})],1),n("v-row",[n("v-menu",{ref:"menu_start",attrs:{"close-on-content-click":!1,"return-value":e.newObject.date_start,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.newObject,"date_start",t)},"update:return-value":function(t){return e.$set(e.newObject,"date_start",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{placeholder:"Начало работ*",readonly:"",outlined:"",rules:e.reqRules},model:{value:e.newObject.date_start,callback:function(t){e.$set(e.newObject,"date_start",t)},expression:"newObject.date_start"}},"v-text-field",a,!1),i))]}}]),model:{value:e.datePickers.menu_start,callback:function(t){e.$set(e.datePickers,"menu_start",t)},expression:"datePickers.menu_start"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"primary"},model:{value:e.newObject.date_start,callback:function(t){e.$set(e.newObject,"date_start",t)},expression:"newObject.date_start"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.datePickers.menu_start=!1}}},[e._v(" Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu_start.save(e.newObject.date_start)}}},[e._v("OK")])],1)],1),n("v-menu",{ref:"menu_end",attrs:{"close-on-content-click":!1,"return-value":e.newObject.date_end,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.newObject,"date_end",t)},"update:return-value":function(t){return e.$set(e.newObject,"date_end",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{placeholder:"Окончание работ",readonly:"",outlined:"",rules:e.reqRules},model:{value:e.newObject.date_end,callback:function(t){e.$set(e.newObject,"date_end",t)},expression:"newObject.date_end"}},"v-text-field",a,!1),i))]}}]),model:{value:e.datePickers.menu_end,callback:function(t){e.$set(e.datePickers,"menu_end",t)},expression:"datePickers.menu_end"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"primary"},model:{value:e.newObject.date_end,callback:function(t){e.$set(e.newObject,"date_end",t)},expression:"newObject.date_end"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.datePickers.menu_end=!1}}},[e._v(" Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu_end.save(e.newObject.date_end)}}},[e._v("OK")])],1)],1)],1),n("v-row",[n("v-select",{attrs:{items:e.clients,"item-text":"name","item-value":"id",rules:e.reqRules,placeholder:"Клиент*",outlined:"",dense:""},on:{change:function(t){return e.loadContacts(e.newObject.client_id)}},model:{value:e.newObject.client_id,callback:function(t){e.$set(e.newObject,"client_id",t)},expression:"newObject.client_id"}}),n("v-select",{attrs:{items:e.contacts,"item-value":"id","item-text":"label","no-data-text":"Выберите клиента",placeholder:"Контактное лицо*",rules:e.reqRules,outlined:"",dense:""},model:{value:e.newObject.contact_id,callback:function(t){e.$set(e.newObject,"contact_id",t)},expression:"newObject.contact_id"}})],1),n("v-text-field",{attrs:{placeholder:"Жилье",outlined:""},model:{value:e.newObject.habitation,callback:function(t){e.$set(e.newObject,"habitation",t)},expression:"newObject.habitation"}}),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страховка от несчастных случаев",outlined:""},model:{value:e.newObject.accident_insurance,callback:function(t){e.$set(e.newObject,"accident_insurance",t)},expression:"newObject.accident_insurance"}}),n("v-text-field",{attrs:{placeholder:"Страховка здоровья",outlined:""},model:{value:e.newObject.health_insurance,callback:function(t){e.$set(e.newObject,"health_insurance",t)},expression:"newObject.health_insurance"}})],1),n("v-textarea",{attrs:{placeholder:"Описание работ",outlined:""},model:{value:e.newObject.work_description,callback:function(t){e.$set(e.newObject,"work_description",t)},expression:"newObject.work_description"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.addObject}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.addWorkerForm,callback:function(t){e.addWorkerForm=t},expression:"addWorkerForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeForm}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"workerForm"},[n("v-select",{attrs:{items:e.workers,"item-value":"id","item-text":"label","no-data-text":"Нет свободных работников",placeholder:"Выберите работника*",rules:e.reqRules,outlined:"",dense:""},model:{value:e.addWorker.user_profile_id,callback:function(t){e.$set(e.addWorker,"user_profile_id",t)},expression:"addWorker.user_profile_id"}}),n("v-row",[n("v-menu",{ref:"worker_start",attrs:{"close-on-content-click":!1,"return-value":e.addWorker.start_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.addWorker,"start_date",t)},"update:return-value":function(t){return e.$set(e.addWorker,"start_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{placeholder:"Начало работ*",readonly:"",outlined:"",rules:e.reqRules},model:{value:e.addWorker.start_date,callback:function(t){e.$set(e.addWorker,"start_date",t)},expression:"addWorker.start_date"}},"v-text-field",a,!1),i))]}}]),model:{value:e.datePickers.worker_start,callback:function(t){e.$set(e.datePickers,"worker_start",t)},expression:"datePickers.worker_start"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"primary"},model:{value:e.addWorker.start_date,callback:function(t){e.$set(e.addWorker,"start_date",t)},expression:"addWorker.start_date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.datePickers.worker_start=!1}}},[e._v(" Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.worker_start.save(e.addWorker.start_date)}}},[e._v("OK")])],1)],1),n("v-menu",{ref:"worker_end",attrs:{"close-on-content-click":!1,"return-value":e.addWorker.end_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.addWorker,"end_date",t)},"update:return-value":function(t){return e.$set(e.addWorker,"end_date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{placeholder:"Окончание работ",readonly:"",outlined:""},model:{value:e.addWorker.end_date,callback:function(t){e.$set(e.addWorker,"end_date",t)},expression:"addWorker.end_date"}},"v-text-field",a,!1),i))]}}]),model:{value:e.datePickers.worker_end,callback:function(t){e.$set(e.datePickers,"worker_end",t)},expression:"datePickers.worker_end"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"primary"},model:{value:e.addWorker.end_date,callback:function(t){e.$set(e.addWorker,"end_date",t)},expression:"addWorker.end_date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.datePickers.worker_end=!1}}},[e._v(" Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.worker_end.save(e.addWorker.end_date)}}},[e._v("OK")])],1)],1)],1),n("v-textarea",{attrs:{placeholder:"Комментарий",outlined:""},model:{value:e.addWorker.comment,callback:function(t){e.$set(e.addWorker,"comment",t)},expression:"addWorker.comment"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.putObjectUser}},[e._v("Сохранить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление объекта ")]),n("v-card-text",[e._v("Вы действительно хотите удалить объект? Отменить это действие будет невозможно")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteObject}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteWorkerDialog,callback:function(t){e.confirmDeleteWorkerDialog=t},expression:"confirmDeleteWorkerDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление работника с объекта ")]),n("v-card-text",[e._v("Вы действительно хотите удалить работника с объекта? Отменить это действие будет невозможно ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteWorkerDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteObjectUser}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmArchiveDialog,callback:function(t){e.confirmArchiveDialog=t},expression:"confirmArchiveDialog"}},[n("v-card",[n("v-card-title",[e._v(" Сдача объекта ")]),n("v-card-text",[e._v(" Вы действительно хотите сдать объект? После подтверждения объект будет перемещен в архив ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.cancelConfirmArchiveDialog}},[e._v(" Отменить ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.editObject}},[e._v("Подтвердить")])],1)],1)],1)],1)},Ye=[],Je=(n("0481"),{name:"Objects",components:{EditIcon:Ie,WasteIcon:$e,BackIcon:Se},data:function(){return{page:"objects",objects:[],objectWorkers:[],all:!0,archive:!1,newObject:{id:0,index:"",city:"",street:"",house:"",entrance:"",flat:"",date_start:"",date_end:"",active:!1,client_id:"",contact_id:"",work_description:null,habitation:null,accident_insurance:null,health_insurance:null},currentObject:{id:0,index:"",city:"",street:"",house:"",entrance:"",flat:"",date_start:"",date_end:"",active:!1,client_id:"",contact_id:{email:""},work_description:null,habitation:null,accident_insurance:null,health_insurance:null},addWorker:{id:0,user_profile_id:0,object_id:0,start_date:null,end_date:null,comment:null},newComment:{text:"",object_comments_id:null,objects_id:null},answer:"",photos:"",comments:{comments:[],data:{}},clients:[],contacts:[],workers:[],selects:["Все",'ООО "Праздник"','ООО "Цветы"'],filter:{address:"",client:"Все",dates:[]},datePickers:{menu_filter:!1,menu_start:!1,menu_end:!1,worker_start:!1,worker_end:!1},formTitle:"Добавление объекта",formBtnText:"Добавить объект",addForm:!1,addWorkerForm:!1,confirmArchiveDialog:!1,confirmDeleteDialog:!1,confirmDeleteWorkerDialog:!1,reqRules:[function(e){return!!e||"Необходимо заполнить поле"}],alertError:!1,alertSuccess:!1,alertMsg:"",editorConfig:{printLog:!1,uploadImgUrl:"http://localhost:8000/time-tracking/images/upload",menus:["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","|","insertcode","|","undo","redo","fullscreen"],useLang:"en",pasteText:!0}}},created:function(){console.log("init Objects"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData(),this.loadClients()):this.$router.push({name:"Login"})},methods:{initSocket:function(){},loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/objects",type:"GET",success:function(t){e.objects=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadClients:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"GET",success:function(t){e.clients=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadContacts:function(e){var t=this;this.newObject.contact_id=null,this.contacts=[],r.a.ajax({url:this.$hostname+"time-tracking/clients-employees/"+e,type:"GET",success:function(e){t.contacts=e.data.data,t.contacts.forEach((function(e){e.label=e.lastname+" "+e.name+", "+e.position,console.log(e.label)}))},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},addObject:function(){var e=this;this.$refs.form.validate()&&(0===this.newObject.id?r.a.ajax({url:this.$hostname+"time-tracking/objects",type:"POST",data:{index:this.newObject.index,city:this.newObject.city,street:this.newObject.street,house:this.newObject.house,entrance:this.newObject.entrance,flat:this.newObject.flat,date_start:this.newObject.date_start,date_end:this.newObject.date_end,active:this.newObject.active,client_id:this.newObject.client_id,contact_id:this.newObject.contact_id,work_description:this.newObject.work_description,habitation:this.newObject.habitation,accident_insurance:this.newObject.accident_insurance,health_insurance:this.newObject.health_insurance},success:function(){console.log("Объект добавлен "),e.loadData(),e.closeForm()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}):this.editObject())},editObject:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/objects",type:"PUT",data:this.currentObject,success:function(){console.log("Объект изменен "),e.addForm?(e.loadData(),e.closeForm()):e.confirmArchiveDialog=!1},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},deleteObject:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/objects",type:"DELETE",data:{id:this.currentObject.id},success:function(){console.log("Объект удален"),e.loadData()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},openObject:function(e){this.currentObject=e,this.loadPhoto(e.id),this.all=!1,this.loadWorkers(),this.loadComments(!1)},loadPhoto:function(e){var t=this;r.a.ajax({url:this.$hostname+"time-tracking/objects/photos/"+e,type:"GET",success:function(e){t.photos=e.data.data},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},loadWorkers:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/objects/employees/"+this.currentObject.id,type:"GET",success:function(t){e.objectWorkers=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}),r.a.ajax({url:this.$hostname+"time-tracking/objects/employees",type:"GET",success:function(t){e.workers=t.data.data,e.workers.forEach((function(e){e.label=e.lastname+" "+e.name+", "+e.position}))},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadComments:function(e){var t=this;r.a.ajax({url:this.$hostname+"time-tracking/objects/comments/"+this.currentObject.id,type:"GET",success:function(n){e||(t.comments=n.data)},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},putObjectUser:function(){var e=this;this.$refs.workerForm.validate()&&(this.addWorker.object_id=this.currentObject.id,r.a.ajax({url:this.$hostname+"time-tracking/objects/employees",type:"PUT",data:{id:this.addWorker.id,user_profile_id:this.addWorker.user_profile_id,objects_id:this.addWorker.object_id,start_date:this.addWorker.start_date,end_date:this.addWorker.end_date,comment:this.addWorker.comment},success:function(t){console.log(t),e.loadWorkers(),e.addWorkerForm=!1},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}))},deleteObjectUser:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/objects/employees",type:"DELETE",data:{id:this.addWorker.id},success:function(t){console.log(t),e.loadWorkers(),e.confirmDeleteWorkerDialog=!1},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},openWorker:function(e){console.log(e)},addComment:function(){var e=this;this.newComment.objects_id=this.currentObject.id,r.a.ajax({url:this.$hostname+"time-tracking/objects/comments",type:"POST",data:this.newComment,success:function(){e.loadComments(!1),e.newComment={text:"",object_comments_id:null,objects_id:null}},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},deleteComment:function(e){var t=this;r.a.ajax({url:this.$hostname+"time-tracking/objects/comments/"+e,type:"DELETE",data:this.newComment,success:function(){t.loadComments(!1)},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},openAddForm:function(){this.formTitle="Добавление объекта",this.formBtnText="Добавить объект",this.addForm=!0},openEditForm:function(e){this.formTitle="Редактирование объекта",this.formBtnText="Сохранить объект",this.newObject=e,this.addForm=!0},openAddWorkerForm:function(){this.formTitle="Добавление работника на объект",this.addWorkerForm=!0},openEditWorkerForm:function(e){this.addWorker=e,this.formTitle="Редактирование работника на объекте",this.addWorkerForm=!0},openConfirmArchiveDialog:function(){this.currentObject.active&&!this.all||!this.currentObject.active&&this.all?(this.currentObject.active=!0,this.confirmArchiveDialog=!0):this.editObject()},cancelConfirmArchiveDialog:function(){this.currentObject.active=!1,this.confirmArchiveDialog=!1},openConfirmDeleteDialog:function(e){this.currentObject=e,this.archive||!this.all?this.confirmDeleteDialog=!0:this.openConfirmArchiveDialog()},openConfirmDeleteWorkerDialog:function(e){this.addWorker=e,this.confirmDeleteWorkerDialog=!0},closeForm:function(){this.addForm=!1,this.newObject={id:0,index:"",city:"",street:"",house:"",entrance:"",flat:"",date_start:"",date_end:"",active:!1,client_id:"",contact_id:"",work_description:null,habitation:null,accident_insurance:null,health_insurance:null},this.addWorker={id:0,user_profile_id:0,object_id:0,start_date:null,end_date:null,comment:null},this.addWorkerForm=!1},openFilters:function(){console.log("open filters"),r()(".content-list__filters").addClass("open"),r()(".content-list__btns").addClass("hidden")},closeFilters:function(){console.log("open filters"),r()(".content-list__filters").removeClass("open"),r()(".content-list__btns").removeClass("hidden")}}}),et=Je,tt=n("2e4b"),nt=n("ce7e"),it=n("1800"),at=n("e449"),st=n("0fd9"),ot=n("b974"),rt=Object(f["a"])(et,Xe,Ye,!1,null,"66b0bf3c",null),lt=rt.exports;v()(rt,{VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCheckbox:te["a"],VDatePicker:tt["a"],VDialog:G["a"],VDivider:nt["a"],VForm:le["a"],VIcon:m["a"],VList:h["a"],VListItem:C["a"],VListItemAction:it["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VMenu:at["a"],VRow:st["a"],VSelect:ot["a"],VSpacer:Ue["a"],VTextField:ce["a"],VTextarea:U["a"],VToolbar:Ze["a"]});var ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"workers flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Работники")]),e.all?e._e():n("div",{staticClass:"addition-btn",on:{click:function(t){e.all=!0}}},[n("span",[e._v("К списку работников")]),n("back-icon")],1),e.all?n("div",{staticClass:" addition-btn content-list__filters-mobile",on:{click:e.openFilters}},[e._v("Фильтры ")]):e._e()]),e.all?n("div",{staticClass:"workers-all all"},[n("div",{staticClass:"content-list__filters"},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:e.closeFilters}},[e._v(" $deleteIcon ")]),n("v-text-field",{attrs:{placeholder:"Фамилия Имя",outlined:""},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}}),n("v-select",{attrs:{items:e.selects,placeholder:"Должность",outlined:""},model:{value:e.filter.position,callback:function(t){e.$set(e.filter,"position",t)},expression:"filter.position"}}),n("v-text-field",{attrs:{placeholder:"Почта",outlined:""},model:{value:e.filter.email,callback:function(t){e.$set(e.filter,"email",t)},expression:"filter.email"}})],1),n("v-list",{staticClass:"workers__list content-list",attrs:{"three-line":""}},[e._l(e.profiles,(function(t){return[t.active!==e.archive&&t.auth_user_id.email.includes(e.filter.email)&&(t.name+" "+t.lastname).includes(e.filter.name)&&(t.position===e.filter.position||"Все"===e.filter.position)?n("v-list-item",{key:t.id},[n("v-list-item-avatar",{staticClass:"content-list__image"},[t.photo_path?n("v-img",{attrs:{src:e.$hostname+"media"+t.photo_path}}):e._e()],1),n("v-list-item-content",{on:{click:function(n){return e.openProfile(t)}}},[n("v-list-item-title",[e._v(e._s(t.lastname)+" "+e._s(t.name))]),n("v-list-item-subtitle",[n("span",[e._v(e._s(t.position))]),n("br"),n("span",[e._v(e._s(t.auth_user_id.email))])])],1),n("v-list-item-action",[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return e.openConfirmDeleteDialog(t)}}},[e._v(" $deleteIcon ")])],1)],1):e._e()]}))],2),n("v-list",{staticClass:"content-list__btns"},[e.archive?e._e():n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить работника")])],1)],1),e.archive?n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Выйти из архива")])],1)],1):n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Архив")])],1)],1)],1)],1):e._e(),e.all?e._e():n("div",{staticClass:"workers-open"},[n("div",{staticClass:"profile__image"},[e.currentProfile.photo_path?n("v-img",{attrs:{"lazy-src":e.$hostname+"media"+e.currentProfile.photo_path,src:e.$hostname+"media"+e.currentProfile.photo_path}}):e._e(),n("div",{staticClass:"profile__change-photo",on:{click:function(t){e.photoDialog=!0}}},[e._v("Сменить фото")])],1),n("div",{staticClass:"profile__info"},[n("h3",[e._v("Личная информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Имя")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Фамилия")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.lastname))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Дата рождения")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.birthdate))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Гражданство")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.citizenship))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Должность")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.position))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Номер соц. страхования")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.social_code_own))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Финский номер соц. страхования")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.social_code_fin))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Работает")]),n("v-checkbox",{on:{change:e.openConfirmArchiveDialog},model:{value:e.currentProfile.active,callback:function(t){e.$set(e.currentProfile,"active",t)},expression:"currentProfile.active"}})],1)]),n("h3",[e._v("Контакты")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.phone))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон в Финляндии")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.phone_fin))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("E-mail")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.auth_user_id.email))])])]),n("h3",[e._v("Банковская информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Налоговый номер")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.tax_number))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Счет в банке")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.bank_account))])])]),e.full?n("div",{staticClass:"profile__info profile__info-full"},[n("h3",[e._v("Адреса")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Адрес в своей стране")]),null!==e.currentProfile.address_own&&""!==e.currentProfile.address_own.city?n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.address_own.index)+" "+e._s(e.currentProfile.address_own.country)+", г."+e._s(e.currentProfile.address_own.city)+", "+e._s(e.currentProfile.address_own.street)+", д."+e._s(e.currentProfile.address_own.house)+", "+e._s(e.currentProfile.address_own.entrance)+", кв."+e._s(e.currentProfile.address_own.flat))]):e._e()]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Адрес в Финляндии")]),null!==e.currentProfile.address_fin&&""!==e.currentProfile.address_fin.city?n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.address_fin.index)+" "+e._s(e.currentProfile.address_fin.country)+", г."+e._s(e.currentProfile.address_fin.city)+", "+e._s(e.currentProfile.address_fin.street)+", д."+e._s(e.currentProfile.address_fin.house)+", "+e._s(e.currentProfile.address_fin.entrance)+", кв."+e._s(e.currentProfile.address_fin.flat))]):e._e()])]),n("h3",[e._v("Одежда (размеры)")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Ботинки")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.boots))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Куртка")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.jacket))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Штаны")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.pants))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Футболка")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.shirt))])])]),n("h3",[e._v("Языки")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Русский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.currentProfile.russian,callback:function(t){e.$set(e.currentProfile,"russian",t)},expression:"currentProfile.russian"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Английский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.currentProfile.english,callback:function(t){e.$set(e.currentProfile,"english",t)},expression:"currentProfile.english"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Эстонский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.currentProfile.estonian,callback:function(t){e.$set(e.currentProfile,"estonian",t)},expression:"currentProfile.estonian"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Финский")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.currentProfile.finnish,callback:function(t){e.$set(e.currentProfile,"finnish",t)},expression:"currentProfile.finnish"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Другие")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.other_language))])])]),n("h3",[e._v("Другое")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Свой автомобиль")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.currentProfile.auto,callback:function(t){e.$set(e.currentProfile,"auto",t)},expression:"currentProfile.auto"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Свой инструмент")]),n("v-checkbox",{staticClass:"profile__info-content",attrs:{disabled:""},model:{value:e.currentProfile.tool,callback:function(t){e.$set(e.currentProfile,"tool",t)},expression:"currentProfile.tool"}})],1),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Навыки")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentProfile.skills))])])])]):e._e(),n("div",{staticClass:"open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(t){e.full=!e.full}}},[e.full?n("span",[e._v("Скрыть полную информацию")]):e._e(),e.full?e._e():n("span",[e._v("Показать полную информацию")])]),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.$router.push({name:"Documents",params:{type:"worker",id:e.currentProfile.id}})}}},[e._v(" Документы ")])]),n("div",{staticClass:"news-open__actions open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(t){return e.openEditForm(e.currentProfile)}}},[n("edit-icon"),e._v(" Редактировать работника ")],1),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.openConfirmDeleteDialog(e.currentProfile)}}},[n("waste-icon"),e._v(" Удалить работника ")],1)])])])]),n("v-dialog",{model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeForm}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"addForm",attrs:{model:e.newProfile}},[n("v-row",[n("v-text-field",{attrs:{placeholder:"Фамилия*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newProfile.lastname,callback:function(t){e.$set(e.newProfile,"lastname",t)},expression:"newProfile.lastname"}}),n("v-text-field",{attrs:{placeholder:"Имя*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newProfile.name,callback:function(t){e.$set(e.newProfile,"name",t)},expression:"newProfile.name"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Гражданство*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newProfile.citizenship,callback:function(t){e.$set(e.newProfile,"citizenship",t)},expression:"newProfile.citizenship"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.newProfile.birthdate,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.newProfile,"birthdate",t)},"update:return-value":function(t){return e.$set(e.newProfile,"birthdate",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{readonly:"",placeholder:"Дата рождения*",rules:e.reqRules,outlined:""},model:{value:e.newProfile.birthdate,callback:function(t){e.$set(e.newProfile,"birthdate",t)},expression:"newProfile.birthdate"}},"v-text-field",a,!1),i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.newProfile.birthdate,callback:function(t){e.$set(e.newProfile,"birthdate",t)},expression:"newProfile.birthdate"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.newProfile.birthdate)}}},[e._v(" OK")])],1)],1)],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Номер социального страхования",outlined:""},model:{value:e.newProfile.social_code_own,callback:function(t){e.$set(e.newProfile,"social_code_own",t)},expression:"newProfile.social_code_own"}}),n("v-text-field",{attrs:{placeholder:"Номер соц. страхования в Финляндии*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newProfile.social_code_fin,callback:function(t){e.$set(e.newProfile,"social_code_fin",t)},expression:"newProfile.social_code_fin"}})],1),n("h4",[e._v("Адрес в своей стране")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страна",outlined:""},model:{value:e.newProfile.address_own.country,callback:function(t){e.$set(e.newProfile.address_own,"country",t)},expression:"newProfile.address_own.country"}}),n("v-text-field",{attrs:{placeholder:"Город",outlined:""},model:{value:e.newProfile.address_own.city,callback:function(t){e.$set(e.newProfile.address_own,"city",t)},expression:"newProfile.address_own.city"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Улица",outlined:""},model:{value:e.newProfile.address_own.street,callback:function(t){e.$set(e.newProfile.address_own,"street",t)},expression:"newProfile.address_own.street"}}),n("v-text-field",{attrs:{placeholder:"Индекс",outlined:""},model:{value:e.newProfile.address_own.index,callback:function(t){e.$set(e.newProfile.address_own,"index",t)},expression:"newProfile.address_own.index"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом",outlined:""},model:{value:e.newProfile.address_own.house,callback:function(t){e.$set(e.newProfile.address_own,"house",t)},expression:"newProfile.address_own.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.newProfile.address_own.entrance,callback:function(t){e.$set(e.newProfile.address_own,"entrance",t)},expression:"newProfile.address_own.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.newProfile.address_own.flat,callback:function(t){e.$set(e.newProfile.address_own,"flat",t)},expression:"newProfile.address_own.flat"}})],1),n("h4",[e._v("Адрес в Финляндии")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страна",outlined:""},model:{value:e.newProfile.address_fin.country,callback:function(t){e.$set(e.newProfile.address_fin,"country",t)},expression:"newProfile.address_fin.country"}}),n("v-text-field",{attrs:{placeholder:"Город",outlined:""},model:{value:e.newProfile.address_fin.city,callback:function(t){e.$set(e.newProfile.address_fin,"city",t)},expression:"newProfile.address_fin.city"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Улица",outlined:""},model:{value:e.newProfile.address_fin.street,callback:function(t){e.$set(e.newProfile.address_fin,"street",t)},expression:"newProfile.address_fin.street"}}),n("v-text-field",{attrs:{placeholder:"Индекс",outlined:""},model:{value:e.newProfile.address_fin.index,callback:function(t){e.$set(e.newProfile.address_fin,"index",t)},expression:"newProfile.address_fin.index"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом",outlined:""},model:{value:e.newProfile.address_fin.house,callback:function(t){e.$set(e.newProfile.address_fin,"house",t)},expression:"newProfile.address_fin.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.newProfile.address_fin.entrance,callback:function(t){e.$set(e.newProfile.address_fin,"entrance",t)},expression:"newProfile.address_fin.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.newProfile.address_fin.flat,callback:function(t){e.$set(e.newProfile.address_fin,"flat",t)},expression:"newProfile.address_fin.flat"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Телефон",rules:e.phoneRules,required:"",outlined:""},model:{value:e.newProfile.phone,callback:function(t){e.$set(e.newProfile,"phone",t)},expression:"newProfile.phone"}}),n("v-text-field",{attrs:{placeholder:"Телефон в Финляндии*",rules:e.phoneFinRules,required:"",outlined:""},model:{value:e.newProfile.phone_fin,callback:function(t){e.$set(e.newProfile,"phone_fin",t)},expression:"newProfile.phone_fin"}})],1),n("v-text-field",{attrs:{placeholder:"Почта*",rules:e.emailRules,required:"",outlined:""},model:{value:e.newProfile.email,callback:function(t){e.$set(e.newProfile,"email",t)},expression:"newProfile.email"}}),n("v-text-field",{attrs:{placeholder:"Номер счета в банке*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newProfile.bank_account,callback:function(t){e.$set(e.newProfile,"bank_account",t)},expression:"newProfile.bank_account"}}),n("v-text-field",{attrs:{placeholder:"Налоговый номер*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newProfile.tax_number,callback:function(t){e.$set(e.newProfile,"tax_number",t)},expression:"newProfile.tax_number"}}),n("v-row",[n("v-checkbox",{attrs:{label:"Свой автомобиль"},model:{value:e.newProfile.auto,callback:function(t){e.$set(e.newProfile,"auto",t)},expression:"newProfile.auto"}}),n("v-checkbox",{attrs:{label:"Свой инструмент"},model:{value:e.newProfile.tool,callback:function(t){e.$set(e.newProfile,"tool",t)},expression:"newProfile.tool"}})],1),n("h4",[e._v("Языки")]),n("v-row",[n("v-checkbox",{attrs:{label:"Английский"},model:{value:e.newProfile.english,callback:function(t){e.$set(e.newProfile,"english",t)},expression:"newProfile.english"}}),n("v-checkbox",{attrs:{label:"Финский"},model:{value:e.newProfile.finnish,callback:function(t){e.$set(e.newProfile,"finnish",t)},expression:"newProfile.finnish"}}),n("v-checkbox",{attrs:{label:"Русский"},model:{value:e.newProfile.russian,callback:function(t){e.$set(e.newProfile,"russian",t)},expression:"newProfile.russian"}}),n("v-checkbox",{attrs:{label:"Эстонский"},model:{value:e.newProfile.estonian,callback:function(t){e.$set(e.newProfile,"estonian",t)},expression:"newProfile.estonian"}})],1),n("v-text-field",{attrs:{placeholder:"Другие языки",outlined:""},model:{value:e.newProfile.other_language,callback:function(t){e.$set(e.newProfile,"other_language",t)},expression:"newProfile.other_language"}}),n("v-combobox",{ref:"positionCombobox",attrs:{items:e.positions,placeholder:"Должность*",outlined:"",dense:"",rules:e.reqRules},model:{value:e.newProfile.position,callback:function(t){e.$set(e.newProfile,"position",t)},expression:"newProfile.position"}}),n("v-textarea",{attrs:{placeholder:"Что умеете делать?",outlined:""},model:{value:e.newProfile.skills,callback:function(t){e.$set(e.newProfile,"skills",t)},expression:"newProfile.skills"}}),n("h4",[e._v("Одежда")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Ботинки",outlined:""},model:{value:e.newProfile.boots,callback:function(t){e.$set(e.newProfile,"boots",t)},expression:"newProfile.boots"}}),n("v-text-field",{attrs:{placeholder:"Куртка",outlined:""},model:{value:e.newProfile.jacket,callback:function(t){e.$set(e.newProfile,"jacket",t)},expression:"newProfile.jacket"}}),n("v-text-field",{attrs:{placeholder:"Штаны",outlined:""},model:{value:e.newProfile.pants,callback:function(t){e.$set(e.newProfile,"pants",t)},expression:"newProfile.pants"}}),n("v-text-field",{attrs:{placeholder:"Футболка",outlined:""},model:{value:e.newProfile.shirt,callback:function(t){e.$set(e.newProfile,"shirt",t)},expression:"newProfile.shirt"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.addUser}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление работника ")]),n("v-card-text",[e._v("Вы действительно хотите удалить профиль? Отменить это действие будет невозможно")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteUser(null)}}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmArchiveDialog,callback:function(t){e.confirmArchiveDialog=t},expression:"confirmArchiveDialog"}},[n("v-card",[n("v-card-title",[e._v(" Увольнение работника ")]),n("v-card-text",[e._v(" Вы действительно хотите уволить работника? После подтверждения профиль будет перемещен в архив ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.cancelConfirmArchiveDialog}},[e._v(" Отменить ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.editProfile}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.photoDialog,callback:function(t){e.photoDialog=t},expression:"photoDialog"}},[n("v-card",[n("v-card-title",[e._v(" Сменить фото ")]),n("v-card-text",[n("v-file-input",{attrs:{placeholder:"Фото профиля",accept:"image/*","prepend-icon":"",outlined:""},model:{value:e.photoField,callback:function(t){e.photoField=t},expression:"photoField"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.savePhoto}},[e._v("Сохранить")])],1)],1)],1)],1)},ut=[],dt={name:"Workers",components:{WasteIcon:$e,EditIcon:Ie,BackIcon:Se},data:function(){return{page:"home",all:!0,full:!1,archive:!1,profiles:{},positions:["Администратор","Маляр","Строитель"],selects:["Все","Администратор","Маляр","Строитель"],newProfile:{id:0,lastname:"",name:"",citizenship:"",birthdate:"",social_code_own:"",social_code_fin:"",address_own:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},address_fin:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},phone:"",phone_fin:"",email:"",bank_account:"",tax_number:"",auto:!1,tool:!1,english:!1,estonian:!1,finnish:!1,russian:!1,other_language:"",position:"",skills:"",boots:null,jacket:null,pants:null,shirt:null,is_staff:!1,photo_path:null},currentProfile:{id:0,auth_user_id:"",lastname:"",name:"",position:"",email:"",phone:"",is_staff:!1,active:!0,photo_path:null},filter:{name:"",position:"Все",email:""},formTitle:"Добавление работника",formBtnText:"Добавить работника",addForm:!1,confirmArchiveDialog:!1,confirmDeleteDialog:!1,photoField:null,photoDialog:!1,menu:!1,alertError:!1,alertMsg:"",reqRules:[function(e){return!!e||"Необходимо заполнить поле"}],emailRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],phoneRules:[function(e){return/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){5,12}\d$/.test(e)||"Некорректный номер телефона"}],phoneFinRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^((([+][\s]{0,1})|([0]{2}[\s-]{0,1}))([358]{3})([\s-]{0,1})|([0]{1}))(([1-9]{1}[0-9]{0,1})([\s-]{0,1})([0-9]{2,4})([\s-]{0,1})([0-9]{2,4})([\s-]{0,1}))([0-9]{0,3}){1}$/.test(e)||"Некорректный номер телефона"}]}},created:function(){console.log("init Workers"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Index"})},methods:{loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/profiles",type:"GET",success:function(t){e.profiles=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},addUser:function(){var e=this;this.$refs.addForm.validate()?0!==this.newProfile.id?this.editProfile():r.a.ajax({url:this.$hostname+"time-tracking/user",type:"POST",data:{username:this.newProfile.email,email:this.newProfile.email,is_staff:this.newProfile.is_staff,password:"12345678"},success:function(t){e.addProfile(t.data.data.id)},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}):(this.alertError=!0,this.alertMsg="Заполните все обязательные поля")},addProfile:function(e){var t=this;r.a.ajax({url:this.$hostname+"time-tracking/profiles",type:"POST",data:{auth_user_id:e,name:this.newProfile.name,lastname:this.newProfile.lastname,citizenship:this.newProfile.citizenship,birthdate:this.newProfile.birthdate,social_code_own:this.newProfile.social_code_own,social_code_fin:this.newProfile.social_code_fin,address_own:JSON.stringify(this.newProfile.address_own),address_fin:JSON.stringify(this.newProfile.address_fin),phone:this.newProfile.phone,phone_fin:this.newProfile.phone_fin,bank_account:this.newProfile.bank_account,tax_number:this.newProfile.tax_number,auto:this.newProfile.auto,tool:this.newProfile.tool,english:this.newProfile.english,estonian:this.newProfile.estonian,finnish:this.newProfile.finnish,russian:this.newProfile.russian,other_language:this.newProfile.other_language,position:this.newProfile.position,skills:this.newProfile.skills,boots:this.newProfile.boots,jacket:this.newProfile.jacket,pants:this.newProfile.pants,shirt:this.newProfile.shirt,photo_path:this.currentProfile.photo_path,active:!0},success:function(){t.alertMsg="Пользователь добавлен",t.closeForm(),t.loadData()},error:function(e){t.alertError=!0,t.alertMsg="Непредвиденная ошибка",console.log(e.data)}})},editProfile:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/profiles",type:"PUT",data:this.currentProfile,success:function(){console.log("Профиль изменен"),e.addForm?e.editUser():(e.confirmArchiveDialog=!1,e.loadData())},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},editUser:function(){var e=this;this.currentProfile.auth_user_id.email=this.newProfile.email,r.a.ajax({url:this.$hostname+"time-tracking/user",type:"PUT",data:{id:this.newProfile.auth_user_id.id,username:this.newProfile.email,email:this.newProfile.email},success:function(){console.log("Пользователь изменен"),e.loadData(),e.closeForm()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},savePhoto:function(){var e=this,t=n("bc3a"),i=new FormData,a=this.photoField;void 0!==a?(i.append("image",a),t({method:"put",url:this.$hostname+"time-tracking/profiles/"+this.currentProfile.id,headers:{Authorization:"Token "+(sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token"))},data:i}).then((function(t){console.log(t.data.data),e.photoDialog=!1,e.photoField=null,e.currentProfile.photo_path=t.data.data.name,e.loadData()}))):console.log("ERROR")},deleteUser:function(e){var t=this;null==e&&(e=this.currentProfile.email),console.log(e),r.a.ajax({url:this.$hostname+"time-tracking/user",type:"DELETE",data:{email:e},success:function(){t.alertMsg="Пользователь удален",t.loadData(),t.confirmDeleteDialog=!1},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},openProfile:function(e){this.currentProfile=e,this.all=!1},closeForm:function(){this.addForm=!1,this.newProfile={id:0,lastname:"",name:"",citizenship:"",birthdate:"",social_code_own:"",social_code_fin:"",address_own:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},address_fin:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},phone:"",phone_fin:"",email:"",bank_account:"",tax_number:"",auto:!1,tool:!1,english:!1,estonian:!1,finnish:!1,russian:!1,other_language:"",position:"",skills:"",boots:null,jacket:null,pants:null,shirt:null,photo_path:null,is_staff:!1}},openAddForm:function(){this.formTitle="Добавление работника",this.formBtnText="Добавить работника",this.addForm=!0},openEditForm:function(e){this.formTitle="Редактирование работника",this.formBtnText="Сохранить работника",this.newProfile=e,this.newProfile.email=e.auth_user_id.email,this.addForm=!0},openConfirmArchiveDialog:function(){console.log(this.currentProfile.id),!this.currentProfile.active&&!this.all||this.currentProfile.active&&this.all?(this.currentProfile.active=!1,this.confirmArchiveDialog=!0):this.editProfile()},cancelConfirmArchiveDialog:function(){this.currentProfile.active=!0,this.confirmArchiveDialog=!1},openConfirmDeleteDialog:function(e){this.currentProfile=e,this.currentProfile.email=e.auth_user_id.email,this.archive||!this.all?this.confirmDeleteDialog=!0:this.openConfirmArchiveDialog()},openFilters:function(){console.log("open filters"),r()(".content-list__filters").addClass("open"),r()(".content-list__btns").addClass("hidden")},closeFilters:function(){console.log("open filters"),r()(".content-list__filters").removeClass("open"),r()(".content-list__btns").removeClass("hidden")}}},ft=dt,_t=n("2b5d"),vt=n("8270"),mt=Object(f["a"])(ft,ct,ut,!1,null,"7c2ff8b5",null),pt=mt.exports;v()(mt,{VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCheckbox:te["a"],VCombobox:_t["a"],VDatePicker:tt["a"],VDialog:G["a"],VFileInput:Ge["a"],VForm:le["a"],VIcon:m["a"],VImg:p["a"],VList:h["a"],VListItem:C["a"],VListItemAction:it["a"],VListItemAvatar:vt["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VMenu:at["a"],VRow:st["a"],VSelect:ot["a"],VSpacer:Ue["a"],VTextField:ce["a"],VTextarea:U["a"],VToolbar:Ze["a"]});var ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"documents flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Документы")]),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.$router.go(-1)}}},[n("span",[e._v("Назад")]),n("back-icon")],1)]),n("div",{staticClass:"documents-all all"},[n("v-data-table",{attrs:{headers:e.headers,items:e.documents,"item-key":"id"},on:{"click:row":e.downloadFile},scopedSlots:e._u([{key:"item.actions",fn:function(t){var i=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.openEditForm(i)}}},[e._v("mdi-pencil")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.openConfirmDeleteDialog(i)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[e._v(" Документы не загружены ")]},proxy:!0}])}),n("v-list",{staticClass:"content-list__btns"},[n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить документ")])],1)],1)],1)],1)]),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-card-title",[e._v(" "+e._s(e.formTitle)+" ")]),n("v-card-text",[n("v-form",{ref:"form",attrs:{model:e.currentDocument}},[n("v-text-field",{attrs:{placeholder:"Название документа*",outlined:"",rules:e.reqRules,required:""},model:{value:e.currentDocument.name,callback:function(t){e.$set(e.currentDocument,"name",t)},expression:"currentDocument.name"}}),e.editFile?e._e():n("v-btn",{attrs:{text:""},on:{click:function(t){e.editFile=!0}}},[e._v("Изменить файл")]),e.editFile?n("v-file-input",{attrs:{placeholder:"Выберите документ*",accept:"*","prepend-icon":"",outlined:"",rules:e.reqRules},on:{change:e.showDoc},model:{value:e.currentDocument.path,callback:function(t){e.$set(e.currentDocument,"path",t)},expression:"currentDocument.path"}}):e._e()],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.putDocument}},[e._v("Сохранить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление документа ")]),n("v-card-text",[e._v(" Вы действительно хотите удалить выбранный документ? Отменить это действие будет невозможно ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteDocument}},[e._v("Подтвердить")])],1)],1)],1)],1)},Ct=[],gt=(n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),{name:"Documents",components:{BackIcon:Se},props:{type:String,id:[String,Number]},data:function(){return{profile:{},documents:[],currentDocument:{id:0,name:null,create_date:null,path:null},headers:[{text:"Название",align:"start",sortable:!0,value:"name"},{text:"Дата создания",value:"create_date"},{text:"",value:"actions",sortable:!1}],formTitle:"Добавить документ",editFile:!1,addForm:!1,confirmDeleteDialog:!1,reqRules:[function(e){return!!e||"Необходимо заполнить поле"}]}},created:function(){localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Index"})},methods:{showDoc:function(){console.log(this.currentDocument.path.type)},loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/documents/"+this.type,type:"GET",data:{id:this.id},success:function(t){e.documents=t.data.documents,e.profile=t.data.profile},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},putDocument:function(){var e=this;if(this.$refs.form.validate()){var t=n("bc3a"),i=new FormData;if(this.editFile){var a=this.currentDocument.path;if(void 0===a)return void console.log("ERROR");i.append("document",a)}else i.append("path",this.currentDocument.path);i.append("id",this.currentDocument.id),i.append("create_date",this.currentDocument.create_date),i.append("name",this.currentDocument.name),i.append("user_profile_id",this.id),t({method:"put",url:this.$hostname+"time-tracking/documents/"+this.type,headers:{Authorization:"Token "+(sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token"))},data:i}).then((function(t){console.log(t.data.data),e.addForm=!1,e.loadData()}))}},deleteDocument:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/documents/"+this.type,type:"DELETE",data:{id:this.currentDocument.id},success:function(){console.log("Документ удален"),e.confirmDeleteDialog=!1,e.loadData()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},downloadFile:function(e){var t=n("bc3a");t({url:this.$hostname+"media"+e.path,method:"GET",responseType:"blob"}).then((function(t){var n=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=n,i.setAttribute("download",e.path),document.body.appendChild(i),i.click()}))},openAddForm:function(){this.editFile=!0,this.formTitle="Добавить документ",this.currentDocument={id:0,name:null,create_date:null,path:null},this.addForm=!0},openEditForm:function(e){this.editFile=!1,this.formTitle="Редактировать документ",this.currentDocument=e,this.addForm=!0},openConfirmDeleteDialog:function(e){this.currentDocument=e,this.confirmDeleteDialog=!0}}}),bt=gt,wt=n("8fea"),kt=Object(f["a"])(bt,ht,Ct,!1,null,"c57e7c42",null),xt=kt.exports;v()(kt,{VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VDataTable:wt["a"],VDialog:G["a"],VFileInput:Ge["a"],VForm:le["a"],VIcon:m["a"],VList:h["a"],VListItem:C["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemTitle:g["c"],VSpacer:Ue["a"],VTextField:ce["a"]});var yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Новости")]),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.$router.go(-1)}}},[n("span",[e._v("К списку новостей")]),n("back-icon")],1)]),n("div",{staticClass:"news-open"},[n("h4",[e._v(e._s(e.currentNew.title))]),n("div",{staticClass:"news-open__image"},[e.currentNew.photo_path?n("v-img",{attrs:{src:e.$hostname+"media"+e.currentNew.photo_path}}):e._e()],1),n("div",{staticClass:"news-open__text",domProps:{innerHTML:e._s(e.currentNew.text)}})])])])},$t=[],Pt={name:"NewOpen",components:{BackIcon:Se},props:{id:[String,Number]},created:function(){var e=this;console.log(this.currentNew),r.a.ajax({url:this.$hostname+"time-tracking/news/"+this.id,type:"GET",success:function(t){e.currentNew=t.data.data[0],console.log(e.currentNew)},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},data:function(){return{currentNew:null}}},Dt=Pt,jt=Object(f["a"])(Dt,yt,$t,!1,null,"1ad79586",null),Vt=jt.exports;v()(jt,{VImg:p["a"]});var Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clients flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Клиенты")]),n("div",{staticClass:" addition-btn content-list__filters-mobile",on:{click:e.openFilters}},[e._v(" Фильтры ")])]),n("div",{staticClass:"clients-all all"},[n("div",{staticClass:"content-list__filters"},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:e.closeFilters}},[e._v(" $deleteIcon ")]),n("v-text-field",{attrs:{placeholder:"Название",outlined:""},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}}),n("v-select",{attrs:{items:["Все"].concat(e.selectsBranch),placeholder:"Отрасль",outlined:""},model:{value:e.filter.branch,callback:function(t){e.$set(e.filter,"branch",t)},expression:"filter.branch"}})],1),n("v-list",{staticClass:"clients__list content-list",attrs:{"three-line":""}},[e._l(e.clients,(function(t){return[t.active!==!e.archive||!t.name.includes(e.filter.name)||t.branch!==e.filter.branch&&"Все"!==e.filter.branch?e._e():n("v-list-item",{key:t.id},[n("v-list-item-avatar",{staticClass:"content-list__image"},[t.logo_path?n("v-img",{attrs:{src:e.$hostname+"media"+t.logo_path}}):e._e()],1),n("v-list-item-content",{on:{click:function(n){return e.$router.push({name:"ClientOpen",params:{id:t.id}})}}},[n("v-list-item-title",[e._v(e._s(t.name))]),n("v-list-item-subtitle",[n("span",[e._v(e._s(t.phone))]),n("br"),n("span",[e._v(e._s(t.email))])])],1),n("v-list-item-action",[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return e.openConfirmDeleteDialog(t)}}},[e._v(" $deleteIcon ")])],1)],1)]}))],2),n("v-list",{staticClass:"content-list__btns"},[e.archive?e._e():n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить клиента")])],1)],1),e.archive?n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Выйти из архива")])],1)],1):n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Архив")])],1)],1)],1)],1)]),n("v-dialog",{model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeForm}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"addForm",attrs:{model:e.newClient}},[n("v-row",[n("v-text-field",{attrs:{placeholder:"Название юрлица*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.name,callback:function(t){e.$set(e.newClient,"name",t)},expression:"newClient.name"}}),n("v-text-field",{attrs:{placeholder:"Краткое название*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.short_name,callback:function(t){e.$set(e.newClient,"short_name",t)},expression:"newClient.short_name"}})],1),n("v-row",[n("v-combobox",{attrs:{placeholder:"Отрасль*",items:e.selectsBranch,rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.branch,callback:function(t){e.$set(e.newClient,"branch",t)},expression:"newClient.branch"}}),n("v-text-field",{attrs:{placeholder:"ОГРН*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.ogrn,callback:function(t){e.$set(e.newClient,"ogrn",t)},expression:"newClient.ogrn"}})],1),n("h4",[e._v("Юридический адрес")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страна*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.business_address.country,callback:function(t){e.$set(e.newClient.business_address,"country",t)},expression:"newClient.business_address.country"}}),n("v-text-field",{attrs:{placeholder:"Город*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.business_address.city,callback:function(t){e.$set(e.newClient.business_address,"city",t)},expression:"newClient.business_address.city"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Улица*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.business_address.street,callback:function(t){e.$set(e.newClient.business_address,"street",t)},expression:"newClient.business_address.street"}}),n("v-text-field",{attrs:{placeholder:"Индекс*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.business_address.index,callback:function(t){e.$set(e.newClient.business_address,"index",t)},expression:"newClient.business_address.index"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newClient.business_address.house,callback:function(t){e.$set(e.newClient.business_address,"house",t)},expression:"newClient.business_address.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.newClient.business_address.entrance,callback:function(t){e.$set(e.newClient.business_address,"entrance",t)},expression:"newClient.business_address.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.newClient.business_address.flat,callback:function(t){e.$set(e.newClient.business_address,"flat",t)},expression:"newClient.business_address.flat"}})],1),n("h4",[e._v("Адрес доставки")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страна",outlined:""},model:{value:e.newClient.warehouse_address.country,callback:function(t){e.$set(e.newClient.warehouse_address,"country",t)},expression:"newClient.warehouse_address.country"}}),n("v-text-field",{attrs:{placeholder:"Город",outlined:""},model:{value:e.newClient.warehouse_address.city,callback:function(t){e.$set(e.newClient.warehouse_address,"city",t)},expression:"newClient.warehouse_address.city"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Улица",outlined:""},model:{value:e.newClient.warehouse_address.street,callback:function(t){e.$set(e.newClient.warehouse_address,"street",t)},expression:"newClient.warehouse_address.street"}}),n("v-text-field",{attrs:{placeholder:"Индекс",outlined:""},model:{value:e.newClient.warehouse_address.index,callback:function(t){e.$set(e.newClient.warehouse_address,"index",t)},expression:"newClient.warehouse_address.index"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом",outlined:""},model:{value:e.newClient.warehouse_address.house,callback:function(t){e.$set(e.newClient.warehouse_address,"house",t)},expression:"newClient.warehouse_address.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.newClient.warehouse_address.entrance,callback:function(t){e.$set(e.newClient.warehouse_address,"entrance",t)},expression:"newClient.warehouse_address.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.newClient.warehouse_address.flat,callback:function(t){e.$set(e.newClient.warehouse_address,"flat",t)},expression:"newClient.warehouse_address.flat"}})],1),n("h4",[e._v("Контакты")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Телефон*",rules:e.phoneRules,required:"",outlined:""},model:{value:e.newClient.phone,callback:function(t){e.$set(e.newClient,"phone",t)},expression:"newClient.phone"}}),n("v-text-field",{attrs:{placeholder:"Почта*",rules:e.emailReqRules,required:"",outlined:""},model:{value:e.newClient.email,callback:function(t){e.$set(e.newClient,"email",t)},expression:"newClient.email"}})],1),n("v-text-field",{attrs:{placeholder:"Сайт",outlined:""},model:{value:e.newClient.site,callback:function(t){e.$set(e.newClient,"site",t)},expression:"newClient.site"}}),n("h4",[e._v("Банковская информация")]),n("v-text-field",{attrs:{placeholder:"Номер счета в банке*",outlined:""},model:{value:e.newClient.bank_account,callback:function(t){e.$set(e.newClient,"bank_account",t)},expression:"newClient.bank_account"}}),n("v-row",[n("v-text-field",{attrs:{placeholder:"Банк",outlined:""},model:{value:e.newClient.bank,callback:function(t){e.$set(e.newClient,"bank",t)},expression:"newClient.bank"}}),n("v-text-field",{attrs:{placeholder:"BIC/SWIFT",outlined:""},model:{value:e.newClient.bic,callback:function(t){e.$set(e.newClient,"bic",t)},expression:"newClient.bic"}})],1),n("v-select",{attrs:{items:e.selectsVat,placeholder:"НДС","item-text":"text","item-value":"value",outlined:""},model:{value:e.newClient.vat,callback:function(t){e.$set(e.newClient,"vat",t)},expression:"newClient.vat"}}),n("v-row",[n("v-text-field",{attrs:{placeholder:"Оператор эл. счетов",outlined:""},model:{value:e.newClient.account_operator,callback:function(t){e.$set(e.newClient,"account_operator",t)},expression:"newClient.account_operator"}}),n("v-text-field",{attrs:{placeholder:"Индекс посредника",outlined:""},model:{value:e.newClient.index_operator,callback:function(t){e.$set(e.newClient,"index_operator",t)},expression:"newClient.index_operator"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Номер эл. счетов",outlined:""},model:{value:e.newClient.electronic_number,callback:function(t){e.$set(e.newClient,"electronic_number",t)},expression:"newClient.electronic_number"}}),n("v-text-field",{attrs:{placeholder:"Email для счетов",outlined:""},model:{value:e.newClient.account_email,callback:function(t){e.$set(e.newClient,"account_email",t)},expression:"newClient.account_email"}})],1)],1),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.addClient}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление клиента ")]),n("v-card-text",[e._v("Вы действительно хотите удалить фирму? Отменить это действие будет невозможно")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteClient(null)}}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmArchiveDialog,callback:function(t){e.confirmArchiveDialog=t},expression:"confirmArchiveDialog"}},[n("v-card",[n("v-card-title",[e._v(" Архивирование клиента ")]),n("v-card-text",[e._v(" Вы действительно хотите архивировать клиента? После подтверждения клиент будет перемещен в архив ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmArchiveDialog=!1}}},[e._v(" Отменить ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.archiveClient}},[e._v("Подтвердить")])],1)],1)],1)],1)},It=[],Et={name:"Clients",data:function(){return{page:"clients",archive:!1,clients:[],newClient:{name:"",short_name:"",ogrn:"",business_address:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},warehouse_address:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},phone:"",email:"",site:"",vat:0,branch:"",bank_account:"",bank:"",bic:"",account_operator:"",index_operator:"",electronic_number:"",account_email:"",logo_path:""},currentClient:{id:0,active:!0},selectsVat:[{text:"0%",value:0},{text:"10%",value:10},{text:"20%",value:20}],selectsBranch:[],filter:{name:"",branch:"Все"},photoField:null,formTitle:"Добавление клиента",formBtnText:"Добавить клиента",addForm:!1,confirmDeleteDialog:!1,confirmArchiveDialog:!1,alertError:!1,alertMsg:"",reqRules:[function(e){return!!e||"Необходимо заполнить поле"}],emailReqRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],emailRules:[function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],phoneRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){5,12}\d$/.test(e)||"Некорректный номер телефона"}]}},created:function(){console.log("init Clients"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Index"})},methods:{loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"GET",success:function(t){e.clients=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}),r.a.ajax({url:this.$hostname+"time-tracking/clients/branches",type:"GET",success:function(t){e.selectsBranch=t.data.branches},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},addClient:function(){var e=this;this.$refs.addForm.validate()?r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"POST",data:{name:this.newClient.name,short_name:this.newClient.short_name,ogrn:this.newClient.ogrn,business_address:JSON.stringify(this.newClient.business_address),warehouse_address:JSON.stringify(this.newClient.warehouse_address),phone:this.newClient.phone,email:this.newClient.email,site:this.newClient.site,vat:this.newClient.vat,branch:this.newClient.branch,bank_account:this.newClient.bank_account,bank:this.newClient.bank,bic:this.newClient.bic,account_operator:this.newClient.account_operator,index_operator:this.newClient.index_operator,electronic_number:this.newClient.electronic_number,account_email:this.newClient.account_email,logo_path:this.newClient.logo_path},success:function(){e.closeForm(),e.loadData()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}):(this.alertMsg="Заполните обязательные поля",this.alertError=!0)},archiveClient:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"PUT",data:{id:this.currentClient.id,active:!this.currentClient.active},success:function(){e.loadData(),e.confirmArchiveDialog=!1},error:function(t){500===t.status?e.alertMsg="На этого клиента зарегистрированы объекты или контакты":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},deleteClient:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"DELETE",data:{id:this.currentClient.id},success:function(){e.loadData(),e.confirmDeleteDialog=!1},error:function(t){500===t.status?e.alertMsg="На этого клиента зарегистрированы объекты или контакты":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},openAddForm:function(){this.formTitle="Добавление клиента",this.formBtnText="Добавить клиента",this.addForm=!0},openEditForm:function(e){this.formTitle="Редактирование клиента",this.formBtnText="Сохранить",this.newClient=e,this.addForm=!0},closeForm:function(){this.addForm=!1,this.alertError=!1,this.newClient={name:"",short_name:"",ogrn:"",business_address:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},warehouse_address:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},phone:"",email:"",site:"",vat:0,branch:"",bank_account:"",bank:"",bic:"",account_operator:"",index_operator:"",electronic_number:"",account_email:"",logo_path:""}},openConfirmDeleteDialog:function(e){this.currentClient.id=e.id,this.currentClient.active=e.active,this.archive?this.confirmDeleteDialog=!0:this.confirmArchiveDialog=!0},openFilters:function(){console.log("open filters"),r()(".content-list__filters").addClass("open"),r()(".content-list__btns").addClass("hidden")},closeFilters:function(){console.log("open filters"),r()(".content-list__filters").removeClass("open"),r()(".content-list__btns").removeClass("hidden")}}},At=Et,Ot=Object(f["a"])(At,Ft,It,!1,null,"2b61dd52",null),Tt=Ot.exports;v()(Ot,{VAlert:ee["a"],VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCombobox:_t["a"],VDialog:G["a"],VForm:le["a"],VIcon:m["a"],VImg:p["a"],VList:h["a"],VListItem:C["a"],VListItemAction:it["a"],VListItemAvatar:vt["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VRow:st["a"],VSelect:ot["a"],VSpacer:Ue["a"],VTextField:ce["a"],VToolbar:Ze["a"]});var Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clients flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Клиенты")]),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.$router.go(-1)}}},[n("span",[e._v("К списку клиентов")]),n("back-icon")],1)]),n("div",{staticClass:"clients-open workers-open"},[n("div",{staticClass:"profile__image clients-open__image"},[e.currentClient.logo_path?n("v-img",{attrs:{"lazy-src":e.$hostname+"media"+e.currentClient.logo_path,src:e.$hostname+"media"+e.currentClient.logo_path}}):e._e(),n("div",{staticClass:"profile__change-photo",on:{click:function(t){e.photoDialog=!0}}},[e._v("Сменить фото")])],1),n("div",{staticClass:"profile__info"},[n("h3",[e._v("Общая информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Название")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Краткое название")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.short_name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Отрасль")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.branch))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("ОГРН")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.ogrn))])])]),n("h3",[e._v("Контакты")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.phone))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("E-mail")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.email))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Сайт")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.site))])])]),e.full?n("div",{staticClass:"profile__info profile__info-full"},[n("h3",[e._v("Адреса")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Юридический адрес")]),null!==e.currentClient.business_address||""!==e.currentClient.business_address.city?n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.business_address.index)+" "+e._s(e.currentClient.business_address.country)+", г."+e._s(e.currentClient.business_address.city)+", "+e._s(e.currentClient.business_address.street)+", д."+e._s(e.currentClient.business_address.house)+", "+e._s(e.currentClient.business_address.entrance)+", кв."+e._s(e.currentClient.business_address.flat))]):e._e()]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Адрес доставки")]),""!==e.currentClient.warehouse_address.city?n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.warehouse_address.index)+" "+e._s(e.currentClient.warehouse_address.country)+", г."+e._s(e.currentClient.warehouse_address.city)+", "+e._s(e.currentClient.warehouse_address.street)+", д."+e._s(e.currentClient.warehouse_address.house)+", "+e._s(e.currentClient.warehouse_address.entrance)+", кв."+e._s(e.currentClient.warehouse_address.flat))]):e._e()])]),n("h3",[e._v("Банковская информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Банковский счет")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.bank_account))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Банк")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.bank))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("BIC/SWIFT")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.bic))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("НДС")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.vat)+"%")])])]),n("h3",[e._v("Электронные счета")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Оператор электронных счетов")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.account_operator))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Индекс посредника")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.index_operator))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Номер электронных счетов")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.electronic_number))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Email для счетов")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentClient.account_email))])])])]):e._e(),n("div",{staticClass:"open__actions"},[n("div",{staticClass:"addition-btn",on:{click:function(t){e.full=!e.full}}},[e.full?n("span",[e._v("Скрыть полную информацию")]):e._e(),e.full?e._e():n("span",[e._v("Показать полную информацию")])]),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.$router.push({name:"ClientsEmployees",params:{idClient:e.id}})}}},[e._v(" Контакты ")])]),n("div",{staticClass:"news-open__actions open__actions"},[n("div",{staticClass:"addition-btn",on:{click:e.openEditForm}},[n("edit-icon"),e._v(" Редактировать клиента ")],1),e.currentClient.active?n("div",{staticClass:"addition-btn",on:{click:e.archiveClientOpen}},[n("archive-icon"),e._v(" Архивировать клиента ")],1):e._e(),e.currentClient.active?e._e():n("div",{staticClass:"addition-btn",on:{click:e.archiveClientOpen}},[n("archive-icon"),e._v(" Удалить из архива клиента ")],1),e.currentClient.active?e._e():n("div",{staticClass:"addition-btn",on:{click:function(t){e.confirmDeleteDialog=!0}}},[n("waste-icon"),e._v(" Удалить клиента ")],1)])])])]),n("v-dialog",{model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.addForm=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"addForm",attrs:{model:e.currentClient}},[n("v-row",[n("v-text-field",{attrs:{placeholder:"Название юрлица*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.name,callback:function(t){e.$set(e.currentClient,"name",t)},expression:"currentClient.name"}}),n("v-text-field",{attrs:{placeholder:"Краткое название*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.short_name,callback:function(t){e.$set(e.currentClient,"short_name",t)},expression:"currentClient.short_name"}})],1),n("v-row",[n("v-combobox",{attrs:{placeholder:"Отрасль*",items:e.selectsBranch,rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.branch,callback:function(t){e.$set(e.currentClient,"branch",t)},expression:"currentClient.branch"}}),n("v-text-field",{attrs:{placeholder:"ОГРН*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.ogrn,callback:function(t){e.$set(e.currentClient,"ogrn",t)},expression:"currentClient.ogrn"}})],1),n("h4",[e._v("Юридический адрес")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страна*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.business_address.country,callback:function(t){e.$set(e.currentClient.business_address,"country",t)},expression:"currentClient.business_address.country"}}),n("v-text-field",{attrs:{placeholder:"Город*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.business_address.city,callback:function(t){e.$set(e.currentClient.business_address,"city",t)},expression:"currentClient.business_address.city"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Улица*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.business_address.street,callback:function(t){e.$set(e.currentClient.business_address,"street",t)},expression:"currentClient.business_address.street"}}),n("v-text-field",{attrs:{placeholder:"Индекс*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.business_address.index,callback:function(t){e.$set(e.currentClient.business_address,"index",t)},expression:"currentClient.business_address.index"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentClient.business_address.house,callback:function(t){e.$set(e.currentClient.business_address,"house",t)},expression:"currentClient.business_address.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.currentClient.business_address.entrance,callback:function(t){e.$set(e.currentClient.business_address,"entrance",t)},expression:"currentClient.business_address.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.currentClient.business_address.flat,callback:function(t){e.$set(e.currentClient.business_address,"flat",t)},expression:"currentClient.business_address.flat"}})],1),n("h4",[e._v("Адрес доставки")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Страна",outlined:""},model:{value:e.currentClient.warehouse_address.country,callback:function(t){e.$set(e.currentClient.warehouse_address,"country",t)},expression:"currentClient.warehouse_address.country"}}),n("v-text-field",{attrs:{placeholder:"Город",outlined:""},model:{value:e.currentClient.warehouse_address.city,callback:function(t){e.$set(e.currentClient.warehouse_address,"city",t)},expression:"currentClient.warehouse_address.city"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Улица",outlined:""},model:{value:e.currentClient.warehouse_address.street,callback:function(t){e.$set(e.currentClient.warehouse_address,"street",t)},expression:"currentClient.warehouse_address.street"}}),n("v-text-field",{attrs:{placeholder:"Индекс",outlined:""},model:{value:e.currentClient.warehouse_address.index,callback:function(t){e.$set(e.currentClient.warehouse_address,"index",t)},expression:"currentClient.warehouse_address.index"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Дом",outlined:""},model:{value:e.currentClient.warehouse_address.house,callback:function(t){e.$set(e.currentClient.warehouse_address,"house",t)},expression:"currentClient.warehouse_address.house"}}),n("v-text-field",{attrs:{placeholder:"Подъезд",outlined:""},model:{value:e.currentClient.warehouse_address.entrance,callback:function(t){e.$set(e.currentClient.warehouse_address,"entrance",t)},expression:"currentClient.warehouse_address.entrance"}}),n("v-text-field",{attrs:{placeholder:"Квартира",outlined:""},model:{value:e.currentClient.warehouse_address.flat,callback:function(t){e.$set(e.currentClient.warehouse_address,"flat",t)},expression:"currentClient.warehouse_address.flat"}})],1),n("h4",[e._v("Контакты")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Телефон*",rules:e.phoneRules,required:"",outlined:""},model:{value:e.currentClient.phone,callback:function(t){e.$set(e.currentClient,"phone",t)},expression:"currentClient.phone"}}),n("v-text-field",{attrs:{placeholder:"Почта*",rules:e.emailRules,required:"",outlined:""},model:{value:e.currentClient.email,callback:function(t){e.$set(e.currentClient,"email",t)},expression:"currentClient.email"}})],1),n("v-text-field",{attrs:{placeholder:"Сайт",outlined:""},model:{value:e.currentClient.site,callback:function(t){e.$set(e.currentClient,"site",t)},expression:"currentClient.site"}}),n("h4",[e._v("Банковская информация")]),n("v-text-field",{attrs:{placeholder:"Номер счета в банке*",outlined:""},model:{value:e.currentClient.bank_account,callback:function(t){e.$set(e.currentClient,"bank_account",t)},expression:"currentClient.bank_account"}}),n("v-row",[n("v-text-field",{attrs:{placeholder:"Банк",outlined:""},model:{value:e.currentClient.bank,callback:function(t){e.$set(e.currentClient,"bank",t)},expression:"currentClient.bank"}}),n("v-text-field",{attrs:{placeholder:"BIC/SWIFT",outlined:""},model:{value:e.currentClient.bic,callback:function(t){e.$set(e.currentClient,"bic",t)},expression:"currentClient.bic"}})],1),n("v-select",{attrs:{items:e.selectsVat,placeholder:"НДС","item-text":"text","item-value":"value",outlined:""},model:{value:e.currentClient.vat,callback:function(t){e.$set(e.currentClient,"vat",t)},expression:"currentClient.vat"}}),n("v-row",[n("v-text-field",{attrs:{placeholder:"Оператор эл. счетов",outlined:""},model:{value:e.currentClient.account_operator,callback:function(t){e.$set(e.currentClient,"account_operator",t)},expression:"currentClient.account_operator"}}),n("v-text-field",{attrs:{placeholder:"Индекс посредника",outlined:""},model:{value:e.currentClient.index_operator,callback:function(t){e.$set(e.currentClient,"index_operator",t)},expression:"currentClient.index_operator"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Номер эл. счетов",outlined:""},model:{value:e.currentClient.electronic_number,callback:function(t){e.$set(e.currentClient,"electronic_number",t)},expression:"currentClient.electronic_number"}}),n("v-text-field",{attrs:{placeholder:"Email для счетов",outlined:""},model:{value:e.currentClient.account_email,callback:function(t){e.$set(e.currentClient,"account_email",t)},expression:"currentClient.account_email"}})],1)],1),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.editClient}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление клиента ")]),n("v-card-text",[e._v("Вы действительно хотите удалить клиента? Отменить это действие будет невозможно")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteClient}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.photoDialog,callback:function(t){e.photoDialog=t},expression:"photoDialog"}},[n("v-card",[n("v-card-title",[e._v(" Сменить фото ")]),n("v-card-text",[n("v-file-input",{attrs:{placeholder:"Логотип организации",accept:"image","prepend-icon":"",outlined:""},model:{value:e.photoField,callback:function(t){e.photoField=t},expression:"photoField"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.savePhoto}},[e._v("Сохранить")])],1)],1)],1)],1)},St=[],Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M27.1325 6.61375L23.3838 2.86625C23.2679 2.74995 23.1301 2.65771 22.9785 2.59486C22.8268 2.532 22.6642 2.49976 22.5 2.5H7.5C7.33582 2.49976 7.17322 2.532 7.02155 2.59486C6.86988 2.65771 6.73214 2.74995 6.61625 2.86625L2.8675 6.61375C2.75071 6.72959 2.65809 6.86748 2.595 7.0194C2.53192 7.17132 2.49963 7.33425 2.5 7.49875V23.75C2.5 25.1287 3.62125 26.25 5 26.25H25C26.3788 26.25 27.5 25.1287 27.5 23.75V7.49875C27.5004 7.33425 27.4681 7.17132 27.405 7.0194C27.3419 6.86748 27.2493 6.72959 27.1325 6.61375ZM8.0175 5H21.9825L23.2313 6.24875H6.76875L8.0175 5ZM5 23.75V8.74875H25L25.0025 23.75H5Z",fill:"#616161"}}),n("path",{attrs:{d:"M18.75 15H11.25V12.5H8.75V17.5H21.25V12.5H18.75V15Z",fill:"#616161"}})])},Nt=[],Rt={name:"archiveIcon"},Bt=Rt,qt=Object(f["a"])(Bt,Lt,Nt,!1,null,"1fd8871a",null),Ht=qt.exports,Wt={name:"ClientOpen",components:{ArchiveIcon:Ht,EditIcon:Ie,WasteIcon:$e,BackIcon:Se},props:{id:[String,Number]},data:function(){return{page:"clients",employees:[],currentClient:{id:0,name:"",short_name:"",ogrn:"",business_address:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},warehouse_address:{index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""},phone:"",email:"",site:"",vat:0,branch:"",bank_account:"",bank:"",bic:"",account_operator:"",index_operator:"",electronic_number:"",account_email:"",logo_path:"",active:!0},selectsVat:[{text:"0%",value:0},{text:"10%",value:10},{text:"20%",value:20}],selectsBranch:[],photoField:null,full:!1,formTitle:"Редактирование клиента",formBtnText:"Сохранить",addForm:!1,confirmDeleteDialog:!1,photoDialog:!1,alertError:!1,alertMsg:"",reqRules:[function(e){return!!e||"Необходимо заполнить поле"}],emailRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],phoneRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){5,12}\d$/.test(e)||"Некорректный номер телефона"}]}},created:function(){localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Index"})},methods:{loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients/"+this.id,type:"GET",success:function(t){e.currentClient=t.data.data[0],null==e.currentClient.warehouse_address&&(e.currentClient.warehouse_address={index:"",country:"",city:"",street:"",house:"",entrance:"",flat:""})},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadEmployees:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients/employees/"+this.id,type:"GET",success:function(t){e.employees=t.data.data},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadBranches:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients/branches",type:"GET",success:function(t){e.selectsBranch=t.data.branches},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},archiveClientOpen:function(){var e=this;this.currentClient.active=!this.currentClient.active,r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"PUT",data:this.currentClient,error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},editClient:function(){var e=this;console.log("edit"),this.$refs.addForm.validate()?(this.currentClient.business_address=JSON.stringify(this.currentClient.business_address),this.currentClient.warehouse_address=JSON.stringify(this.currentClient.warehouse_address),r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"PUT",data:this.currentClient,success:function(){e.addForm=!1,e.loadData()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})):(console.log("Заполните обязательные поля"),this.alertMsg="Заполните обязательные поля",this.alertError=!0)},deleteClient:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"DELETE",data:{id:this.currentClient.id},success:function(){e.confirmDeleteDialog=!1,e.$router.push({name:"Clients"})},error:function(t){500===t.status?e.alertMsg="На этого клиента зарегистрированы объекты или контакты":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},savePhoto:function(){var e=this,t=n("bc3a"),i=new FormData,a=this.photoField;null!==a&&void 0!==a?(i.append("image",a),i.append("id",this.currentClient.id),t({method:"put",url:this.$hostname+"time-tracking/clients",headers:{Authorization:"Token "+(sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token"))},data:i}).then((function(t){console.log(t.data.data),e.photoDialog=!1,e.photoField=null,e.loadData()}))):console.log("ERROR")},openEditForm:function(){this.formTitle="Редактирование клиента",this.formBtnText="Сохранить",this.addForm=!0,this.loadBranches()}}},zt=Wt,Gt=Object(f["a"])(zt,Mt,St,!1,null,"20ccf73c",null),Ut=Gt.exports;v()(Gt,{VAlert:ee["a"],VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCombobox:_t["a"],VDialog:G["a"],VFileInput:Ge["a"],VForm:le["a"],VIcon:m["a"],VImg:p["a"],VRow:st["a"],VSelect:ot["a"],VSpacer:Ue["a"],VTextField:ce["a"],VToolbar:Ze["a"]});var Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contacts flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Контакты")]),n("div",{staticClass:" addition-btn content-list__filters-mobile",on:{click:e.openFilters}},[e._v(" Фильтры ")])]),n("div",{staticClass:"contacts-all all"},[n("div",{staticClass:"content-list__filters"},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:e.closeFilters}},[e._v(" $deleteIcon ")]),n("v-text-field",{attrs:{placeholder:"ФИО",outlined:""},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}}),n("v-select",{attrs:{items:["Все"].concat(e.selectsClient),"item-text":"name",placeholder:"Клиент",outlined:""},model:{value:e.filter.client,callback:function(t){e.$set(e.filter,"client",t)},expression:"filter.client"}}),n("v-select",{attrs:{items:["Все"].concat(e.selectsPosition),placeholder:"Должность",outlined:""},model:{value:e.filter.position,callback:function(t){e.$set(e.filter,"position",t)},expression:"filter.position"}})],1),n("v-list",{staticClass:"clients__list content-list",attrs:{"three-line":""}},[e._l(e.contacts,(function(t){return[t.active!==!e.archive||!(t.lastname+" "+t.name).includes(e.filter.name)||t.client.name!==e.filter.client&&"Все"!==e.filter.client||t.position!==e.filter.position&&"Все"!==e.filter.position?e._e():n("v-list-item",{key:t.id},[n("v-list-item-avatar",{staticClass:"content-list__image"},[t.photo_path?n("v-img",{attrs:{src:e.$hostname+"media"+t.photo_path}}):e._e()],1),n("v-list-item-content",{on:{click:function(n){return e.$router.push({name:"ContactOpen",params:{id:t.id}})}}},[n("v-list-item-title",[e._v(e._s(t.lastname)+" "+e._s(t.name))]),n("v-list-item-subtitle",[n("span",[e._v(e._s(t.client.name)+", "+e._s(t.position))]),n("br"),n("span",[e._v(e._s(t.work_email)+" "+e._s(t.work_phone))])])],1),n("v-list-item-action",[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return e.openConfirmDeleteDialog(t)}}},[e._v(" $deleteIcon ")])],1)],1)]}))],2),n("v-list",{staticClass:"content-list__btns"},[e.archive?e._e():n("v-list-item",{staticClass:"content-list__btns-add",on:{click:e.openAddForm}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Добавить контакт")])],1)],1),e.archive?n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Выйти из архива")])],1)],1):n("v-list-item",{staticClass:"content-list__btns-add",on:{click:function(t){e.archive=!e.archive}}},[n("v-list-item-icon",[n("v-icon",[e._v("$archive")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Архив")])],1)],1)],1)],1)]),n("v-dialog",{model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeForm}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"addForm",attrs:{model:e.newContact}},[n("v-row",[n("v-text-field",{attrs:{placeholder:"Фамилия*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newContact.lastname,callback:function(t){e.$set(e.newContact,"lastname",t)},expression:"newContact.lastname"}}),n("v-text-field",{attrs:{placeholder:"Имя*",rules:e.reqRules,required:"",outlined:""},model:{value:e.newContact.name,callback:function(t){e.$set(e.newContact,"name",t)},expression:"newContact.name"}})],1),n("v-row",[n("v-combobox",{attrs:{placeholder:"Фирма*",items:e.selectsClient,"item-text":"name","item-value":"id",rules:e.reqRules,required:"",outlined:""},model:{value:e.newContact.client,callback:function(t){e.$set(e.newContact,"client",t)},expression:"newContact.client"}}),n("v-combobox",{attrs:{placeholder:"Должность*",items:e.selectsPosition,rules:e.reqRules,required:"",outlined:""},model:{value:e.newContact.position,callback:function(t){e.$set(e.newContact,"position",t)},expression:"newContact.position"}})],1),n("h4",[e._v("Контакты")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Телефон",rules:e.phoneRules,required:"",outlined:""},model:{value:e.newContact.phone,callback:function(t){e.$set(e.newContact,"phone",t)},expression:"newContact.phone"}}),n("v-text-field",{attrs:{placeholder:"Рабочий телефон*",rules:e.phoneRules,required:"",outlined:""},model:{value:e.newContact.work_phone,callback:function(t){e.$set(e.newContact,"work_phone",t)},expression:"newContact.work_phone"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Почта",rules:e.emailRules,required:"",outlined:""},model:{value:e.newContact.email,callback:function(t){e.$set(e.newContact,"email",t)},expression:"newContact.email"}}),n("v-text-field",{attrs:{placeholder:"Рабочая почта*",rules:e.emailRules,required:"",outlined:""},model:{value:e.newContact.work_email,callback:function(t){e.$set(e.newContact,"work_email",t)},expression:"newContact.work_email"}})],1)],1),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.addContact}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление контакта ")]),n("v-card-text",[e._v("Вы действительно хотите удалить контакт и все зависящие от него объекты? Отменить это действие будет невозможно ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteContact}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmArchiveDialog,callback:function(t){e.confirmArchiveDialog=t},expression:"confirmArchiveDialog"}},[n("v-card",[n("v-card-title",[e._v(" Архивирование контакта ")]),n("v-card-text",[e._v(" Вы действительно хотите архивировать контакт? После подтверждения контакт будет перемещен в архив ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmArchiveDialog=!1}}},[e._v(" Отменить ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.archiveContact}},[e._v("Подтвердить")])],1)],1)],1)],1)},Qt=[],Kt={name:"Contacts",props:{idClient:[String,Number,null]},data:function(){return{page:"contacts",archive:!1,contacts:[],newContact:{name:"",lastname:"",position:"",phone:"",work_phone:"",email:"",work_email:"",client:"",photo_path:""},currentContact:{id:0,active:!0},filter:{name:"",client:"Все",position:"Все"},selectsClient:[],selectsPosition:[],formTitle:"Добавление клиента",formBtnText:"Добавить клиента",addForm:!1,confirmDeleteDialog:!1,confirmArchiveDialog:!1,alertError:!1,alertMsg:"",reqRules:[function(e){return!!e||"Необходимо заполнить поле"}],emailRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],phoneRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){5,12}\d$/.test(e)||"Некорректный номер телефона"}]}},created:function(){console.log("init Contacts"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData(),this.loadPositions(),this.loadClients()):this.$router.push({name:"Index"})},methods:{loadData:function(){var e=this,t="";t=null!==this.idClient&&void 0!==this.idClient?"time-tracking/clients/employees/"+this.idClient:"time-tracking/clients-employees",r.a.ajax({url:this.$hostname+t,type:"GET",success:function(t){e.contacts=t.data.data},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadPositions:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients-employees/positions",type:"GET",success:function(t){e.selectsPosition=t.data.positions},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadClients:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"GET",success:function(t){e.selectsClient=t.data.data},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},addContact:function(){var e=this;this.$refs.addForm.validate()?(this.newContact.client=this.newContact.client.id,r.a.ajax({url:this.$hostname+"time-tracking/clients-employees",type:"POST",data:this.newContact,success:function(){e.closeForm(),e.loadData(),e.loadPositions()},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})):(this.alertMsg="Заполните все обязательные поля",this.alertError=!0)},archiveContact:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients-employees",type:"PUT",data:{id:this.currentContact.id,active:!this.currentContact.active},success:function(){e.loadData(),e.confirmArchiveDialog=!1},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},deleteContact:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients-employees",type:"DELETE",data:{id:this.currentContact.id},success:function(){e.loadData(),e.confirmDeleteDialog=!1},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},openAddForm:function(){this.formTitle="Добавление контакта",this.formBtnText="Добавить контакт",this.addForm=!0},openEditForm:function(e){this.formTitle="Редактирование контакта",this.formBtnText="Сохранить",this.newContact=e,this.addForm=!0},closeForm:function(){this.addForm=!1,this.alertError=!1,this.newContact={name:"",lastname:"",position:"",phone:"",work_phone:"",email:"",work_email:"",client:"",photo_path:""}},openConfirmDeleteDialog:function(e){this.currentContact.id=e.id,this.currentContact.active=e.active,this.archive?this.confirmDeleteDialog=!0:this.confirmArchiveDialog=!0},openFilters:function(){console.log("open filters"),r()(".content-list__filters").addClass("open"),r()(".content-list__btns").addClass("hidden")},closeFilters:function(){console.log("open filters"),r()(".content-list__filters").removeClass("open"),r()(".content-list__btns").removeClass("hidden")}}},Xt=Kt,Yt=Object(f["a"])(Xt,Zt,Qt,!1,null,"9f32db1c",null),Jt=Yt.exports;v()(Yt,{VAlert:ee["a"],VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCombobox:_t["a"],VDialog:G["a"],VForm:le["a"],VIcon:m["a"],VImg:p["a"],VList:h["a"],VListItem:C["a"],VListItemAction:it["a"],VListItemAvatar:vt["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VRow:st["a"],VSelect:ot["a"],VSpacer:Ue["a"],VTextField:ce["a"],VToolbar:Ze["a"]});var en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contacts flex-content"},[n("div",{staticClass:"summary-box"},[n("div",{staticClass:"summary-box__title"},[n("h3",[e._v("Контакты")]),n("div",{staticClass:"addition-btn",on:{click:function(t){return e.$router.go(-1)}}},[n("span",[e._v("К списку контактов")]),n("back-icon")],1)]),n("div",{staticClass:"clients-open workers-open"},[n("div",{staticClass:"profile__image clients-open__image"},[e.currentContact.photo_path?n("v-img",{attrs:{"lazy-src":e.$hostname+"media"+e.currentContact.photo_path,src:e.$hostname+"media"+e.currentContact.photo_path}}):e._e(),n("div",{staticClass:"profile__change-photo",on:{click:function(t){e.photoDialog=!0}}},[e._v("Сменить фото")])],1),n("div",{staticClass:"profile__info"},[n("h3",[e._v("Общая информация")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Имя")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.name))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Фамилия")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.lastname))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Должность")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.position))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Фирма")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.client.name))])])]),n("h3",[e._v("Контакты")]),n("ul",[n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Телефон")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.phone))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Рабочий телефон")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.work_phone))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("E-mail")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.email))])]),n("li",[n("span",{staticClass:"profile__info-title"},[e._v("Рабочий E-mail")]),n("span",{staticClass:"profile__info-content"},[e._v(e._s(e.currentContact.work_email))])])]),n("div",{staticClass:"news-open__actions open__actions"},[n("div",{staticClass:"addition-btn",on:{click:e.openEditForm}},[n("edit-icon"),e._v(" Редактировать контакт ")],1),e.currentContact.active?n("div",{staticClass:"addition-btn",on:{click:e.archiveContactOpen}},[n("archive-icon"),e._v(" Архивировать контакт ")],1):e._e(),e.currentContact.active?e._e():n("div",{staticClass:"addition-btn",on:{click:e.archiveContactOpen}},[n("archive-icon"),e._v(" Удалить из архива ")],1),e.currentContact.active?e._e():n("div",{staticClass:"addition-btn",on:{click:function(t){e.confirmDeleteDialog=!0}}},[n("waste-icon"),e._v(" Удалить контакт ")],1)])])])]),n("v-dialog",{model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.addForm=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("h3",[e._v(e._s(e.formTitle))]),n("v-card-text",[n("v-form",{ref:"addForm",attrs:{model:e.currentContact}},[n("v-row",[n("v-text-field",{attrs:{placeholder:"Фамилия*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentContact.lastname,callback:function(t){e.$set(e.currentContact,"lastname",t)},expression:"currentContact.lastname"}}),n("v-text-field",{attrs:{placeholder:"Имя*",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentContact.name,callback:function(t){e.$set(e.currentContact,"name",t)},expression:"currentContact.name"}})],1),n("v-row",[n("v-combobox",{attrs:{placeholder:"Фирма*",items:e.selectsClient,"item-text":"name",rules:e.reqRules,required:"",outlined:""},model:{value:e.currentContact.client,callback:function(t){e.$set(e.currentContact,"client",t)},expression:"currentContact.client"}}),n("v-combobox",{attrs:{placeholder:"Должность*",items:e.selectsPosition,rules:e.reqRules,required:"",outlined:""},model:{value:e.currentContact.position,callback:function(t){e.$set(e.currentContact,"position",t)},expression:"currentContact.position"}})],1),n("h4",[e._v("Контакты")]),n("v-row",[n("v-text-field",{attrs:{placeholder:"Телефон",outlined:""},model:{value:e.currentContact.phone,callback:function(t){e.$set(e.currentContact,"phone",t)},expression:"currentContact.phone"}}),n("v-text-field",{attrs:{placeholder:"Рабочий телефон*",rules:e.phoneRules,required:"",outlined:""},model:{value:e.currentContact.work_phone,callback:function(t){e.$set(e.currentContact,"work_phone",t)},expression:"currentContact.work_phone"}})],1),n("v-row",[n("v-text-field",{attrs:{placeholder:"Почта",required:"",outlined:""},model:{value:e.currentContact.email,callback:function(t){e.$set(e.currentContact,"email",t)},expression:"currentContact.email"}}),n("v-text-field",{attrs:{placeholder:"Рабочая почта*",rules:e.emailRules,required:"",outlined:""},model:{value:e.currentContact.work_email,callback:function(t){e.$set(e.currentContact,"work_email",t)},expression:"currentContact.work_email"}})],1)],1),n("v-alert",{attrs:{"close-text":"Закрыть",color:"error",dismissible:""},model:{value:e.alertError,callback:function(t){e.alertError=t},expression:"alertError"}},[e._v(" "+e._s(e.alertMsg)+" ")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:e.editContact}},[e._v(e._s(e.formBtnText))])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteDialog,callback:function(t){e.confirmDeleteDialog=t},expression:"confirmDeleteDialog"}},[n("v-card",[n("v-card-title",[e._v(" Удаление контакта ")]),n("v-card-text",[e._v("Вы действительно хотите удалить контакт и все зависящие от него объекты? Отменить это действие будет невозможно ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteDialog=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteContact}},[e._v("Подтвердить")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.photoDialog,callback:function(t){e.photoDialog=t},expression:"photoDialog"}},[n("v-card",[n("v-card-title",[e._v(" Сменить фото ")]),n("v-card-text",[n("v-file-input",{attrs:{placeholder:"Фото",accept:"image","prepend-icon":"",outlined:""},model:{value:e.photoField,callback:function(t){e.photoField=t},expression:"photoField"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.savePhoto}},[e._v("Сохранить")])],1)],1)],1)],1)},tn=[],nn={name:"ContactOpen",components:{ArchiveIcon:Ht,EditIcon:Ie,WasteIcon:$e,BackIcon:Se},props:{id:[String,Number]},data:function(){return{page:"contacts",currentContact:{id:0,name:"",lastname:"",position:"",phone:"",work_phone:"",email:"",work_email:"",client:{name:""},photo_path:"",active:!0},photoField:null,selectsClient:[],selectsPosition:[],formTitle:"Добавление клиента",formBtnText:"Добавить клиента",addForm:!1,confirmDeleteDialog:!1,photoDialog:!1,alertError:!1,alertMsg:"",reqRules:[function(e){return!!e||"Необходимо заполнить поле"}],emailRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Некорректный E-mail"}],phoneRules:[function(e){return!!e||"Необходимо заполнить поле"},function(e){return/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){5,12}\d$/.test(e)||"Некорректный номер телефона"}]}},created:function(){localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Index"})},methods:{loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients-employees/"+this.id,type:"GET",success:function(t){e.currentContact=t.data.data[0]},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadPositions:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients-employees/positions",type:"GET",success:function(t){e.selectsPosition=t.data.positions},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},loadClients:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients",type:"GET",success:function(t){e.selectsClient=t.data.data},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},archiveContactOpen:function(){var e=this;this.currentContact.active=!this.currentContact.active,r.a.ajax({url:this.$hostname+"time-tracking/clients-employees",type:"PUT",data:this.currentContact,error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},editContact:function(){var e=this;this.$refs.addForm.validate()?(this.currentContact.client=this.currentContact.client.id,r.a.ajax({url:this.$hostname+"time-tracking/clients-employees",type:"PUT",data:this.currentContact,success:function(){e.closeForm(),e.loadData()},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})):(this.alertMsg="Заполните все обязательные поля",this.alertError=!0)},deleteContact:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/clients-employees",type:"DELETE",data:{id:this.currentContact.id},success:function(){e.confirmDeleteDialog=!1,e.$router.push({name:"Contacts"})},error:function(t){console.log(t),500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},savePhoto:function(){var e=this,t=n("bc3a"),i=new FormData,a=this.photoField;null!==a&&void 0!==a?(i.append("image",a),i.append("id",this.currentContact.id),t({method:"put",url:this.$hostname+"time-tracking/clients-employees",headers:{Authorization:"Token "+(sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token"))},data:i}).then((function(t){console.log(t.data.data),e.photoDialog=!1,e.photoField=null,e.loadData()}))):console.log("ERROR")},openAddForm:function(){this.formTitle="Добавление контакта",this.formBtnText="Добавить контакт",this.addForm=!0},openEditForm:function(){this.loadClients(),this.loadPositions(),this.formTitle="Редактирование контакта",this.formBtnText="Сохранить",this.addForm=!0},openConfirmDeleteDialog:function(){this.confirmDeleteDialog=!0}}},an=nn,sn=Object(f["a"])(an,en,tn,!1,null,"721729b4",null),on=sn.exports;v()(sn,{VAlert:ee["a"],VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCombobox:_t["a"],VDialog:G["a"],VFileInput:Ge["a"],VForm:le["a"],VIcon:m["a"],VImg:p["a"],VRow:st["a"],VSpacer:Ue["a"],VTextField:ce["a"],VToolbar:Ze["a"]});var rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"groups flex-content"},[n("Header"),n("section",{staticClass:"summary-box"},[n("h1",[e._v("Управление группами пользователей")]),n("v-btn",{staticClass:"action-btn",attrs:{color:"primary"},on:{click:function(t){e.addGroupForm=!0}}},[e._v("Добавить группу")]),n("v-list",{staticClass:"groups__list"},e._l(e.groups,(function(t){return n("v-list-group",{key:t.id,attrs:{"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(n){e.$set(t,"active",n)},expression:"group.active"}},[e._l(e.functions[t.name],(function(t){return[n("div",{key:t.text,staticClass:"groups-single__functions"},[n("span",{staticClass:"bold-text"},[e._v(e._s(t.name))]),n("v-checkbox",{attrs:{label:"Чтение"},on:{change:function(n){return e.putFunction(t.data)}},model:{value:t.data.read,callback:function(n){e.$set(t.data,"read",n)},expression:"func.data.read"}}),n("v-checkbox",{attrs:{label:"Редактирование"},on:{change:function(n){return e.putFunction(t.data)}},model:{value:t.data.edit,callback:function(n){e.$set(t.data,"edit",n)},expression:"func.data.edit"}})],1)]})),n("div",{staticClass:"groups-single__action"},[n("v-btn",{staticClass:"action-btn",attrs:{color:"error"},on:{click:function(n){e.currentGroup=t.id,e.confirmDeleteGroup=!0}}},[e._v("Удалить группу ")])],1)],2)})),1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.addGroupForm,callback:function(t){e.addGroupForm=t},expression:"addGroupForm"}},[n("v-card-title",[e._v(" Введите название новой группы ")]),n("v-card-text",[n("v-form",{ref:"addForm"},[n("v-text-field",{attrs:{placeholder:"Название*",outlined:"",rules:e.reqRules},model:{value:e.newGroup.name,callback:function(t){e.$set(e.newGroup,"name",t)},expression:"newGroup.name"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.addGroupForm=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.addGroup}},[e._v("Сохранить")])],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.confirmDeleteGroup,callback:function(t){e.confirmDeleteGroup=t},expression:"confirmDeleteGroup"}},[n("v-card",[n("v-card-title",[e._v(" Удаление группы пользователей ")]),n("v-card-text",[e._v("Вы действительно хотите удалить выбранную группу пользователей? Отменить это действие будет невозможно ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.confirmDeleteGroup=!1}}},[e._v("Отменить")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.deleteGroup}},[e._v("Подтвердить")])],1)],1)],1)],1)},ln=[],cn={name:"Groups",components:{Header:N},created:function(){console.log("init Groups"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}}),this.loadData()):this.$router.push({name:"Login"})},data:function(){return{groups:[],functions:[],newGroup:{id:0,name:""},currentGroup:0,addGroupForm:!1,confirmDeleteGroup:!1,alertError:!1,alertMsg:"",reqRules:[function(e){return!!e||"Необходимо заполнить поле"}]}},methods:{loadData:function(){var e=this;r.a.ajax({url:this.$hostname+"time-tracking/groups",type:"GET",success:function(t){e.groups=t.data.groups,e.functions=t.data.functions},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})},putFunction:function(e){var t=this;console.log(e),r.a.ajax({url:this.$hostname+"time-tracking/groups-functions",type:"PUT",data:e,success:function(){console.log("Данные обновлены"),t.loadData()},error:function(e){500===e.status?t.alertMsg="Ошибка соединения с сервером":401===e.status?t.$refresh():t.alertMsg="Непредвиденная ошибка",t.alertError=!0}})},addGroup:function(){var e=this;this.$refs.addForm.validate()?r.a.ajax({url:this.$hostname+"time-tracking/group",type:"POST",data:this.newGroup,success:function(){console.log("Даннные добавлены"),e.loadData(),e.addGroupForm=!1,e.newGroup={id:0,name:""}},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}}):(console.log("Заполните обязательные поля"),this.alertMsg="Заполните обязательные поля",this.alertError=!0)},deleteGroup:function(){var e=this;console.log("Удаляется группа "+this.currentGroup),r.a.ajax({url:this.$hostname+"time-tracking/group",type:"DELETE",data:{id:this.currentGroup},success:function(){console.log("Даннные удалены"),e.confirmDeleteGroup=!1,e.loadData()},error:function(t){500===t.status?e.alertMsg="Ошибка соединения с сервером":401===t.status?e.$refresh():e.alertMsg="Непредвиденная ошибка",e.alertError=!0}})}}},un=cn,dn=n("56b0"),fn=Object(f["a"])(un,rn,ln,!1,null,"1b6d0e4e",null),_n=fn.exports;v()(fn,{VBtn:q["a"],VCard:H["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCheckbox:te["a"],VDialog:G["a"],VForm:le["a"],VList:h["a"],VListGroup:dn["a"],VListItemContent:g["a"],VListItemTitle:g["c"],VSpacer:Ue["a"],VTextField:ce["a"]});var vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings flex-content"},[n("Header"),n("section",{staticClass:"summary-box"},[n("h1",[e._v("Настройки")]),n("v-list",[n("v-list-item",{on:{click:function(t){return e.$router.push({name:"Groups"})}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Управление группами")])],1)],1)],1)],1)],1)},mn=[],pn={name:"Settings",components:{Header:N},created:function(){console.log("init Settings"),localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")?(this.$emit("set-auth"),r.a.ajaxSetup({headers:{Authorization:"Token "+(localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"))}})):this.$router.push({name:"Login"})}},hn=pn,Cn=Object(f["a"])(hn,vn,mn,!1,null,"43439d16",null),gn=Cn.exports;v()(Cn,{VIcon:m["a"],VList:h["a"],VListItem:C["a"],VListItemContent:g["a"],VListItemIcon:w["a"],VListItemTitle:g["c"]}),i["a"].use(I["a"]);var bn=[{path:"/",name:"Index",component:Q},{path:"/profile",name:"Profile",component:ie},{path:"/login",name:"Login",component:de},{path:"/recover",name:"RecoverPassword",component:he},{path:"/news",name:"News",component:Ke},{path:"/objects",name:"Objects",component:lt},{path:"/workers",name:"Workers",component:pt},{path:"/documents/:type&:id",name:"Documents",component:xt,props:!0},{path:"/news/:id",name:"NewOpen",component:Vt,props:!0},{path:"/clients",name:"Clients",component:Tt},{path:"/clients/:id",name:"ClientOpen",component:Ut,props:!0},{path:"/contacts",name:"Contacts",component:Jt},{path:"/clients/contacts/:idClient",name:"ClientsEmployees",component:Jt,props:!0},{path:"/contacts/:id",name:"ContactOpen",component:on,props:!0},{path:"/groups",name:"Groups",component:_n},{path:"/settings",name:"Settings",component:gn}],wn=new I["a"]({routes:bn}),kn=wn,xn=n("f309"),yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M32.1563 26.8481L26.467 23.1502L28.6119 19.2178C29.1119 18.2995 29.3742 17.2707 29.375 16.2251V10C29.375 7.67936 28.4531 5.45376 26.8122 3.81282C25.1712 2.17187 22.9456 1.25 20.625 1.25C18.3044 1.25 16.0788 2.17187 14.4378 3.81282C12.7969 5.45376 11.875 7.67936 11.875 10V16.2251C11.8758 17.2707 12.1381 18.2996 12.6381 19.2179L14.7831 23.1502L9.09376 26.8481C8.21939 27.4142 7.50093 28.1904 7.00413 29.1059C6.50733 30.0214 6.24805 31.0468 6.25001 32.0884V38.75H35V32.0884C35.002 31.0469 34.7427 30.0214 34.2459 29.1059C33.7491 28.1904 33.0306 27.4142 32.1563 26.8481ZM32.5 36.25H8.75001V32.0884C8.74884 31.4635 8.90442 30.8482 9.20252 30.2989C9.50061 29.7496 9.9317 29.2838 10.4563 28.9442L18.086 23.9849L14.8329 18.0208C14.5329 17.4698 14.3755 16.8525 14.375 16.2251V10C14.375 8.3424 15.0335 6.75269 16.2056 5.58058C17.3777 4.40848 18.9674 3.75 20.625 3.75C22.2826 3.75 23.8723 4.40848 25.0444 5.58058C26.2165 6.75269 26.875 8.3424 26.875 10V16.2251C26.8745 16.8525 26.7171 17.4698 26.4171 18.0208L23.1641 23.9849L30.7939 28.9442C31.3185 29.2839 31.7495 29.7496 32.0476 30.2989C32.3457 30.8482 32.5012 31.4635 32.5 32.0884V36.25Z",fill:"#333333"}})])},$n=[],Pn={name:"loginIcon"},Dn=Pn,jn=Object(f["a"])(Dn,yn,$n,!1,null,"3fd92f9f",null),Vn=jn.exports,Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M30 15.625V11.25C30 8.59784 28.9464 6.0543 27.0711 4.17893C25.1957 2.30357 22.6522 1.25 20 1.25C17.3478 1.25 14.8043 2.30357 12.9289 4.17893C11.0536 6.0543 10 8.59784 10 11.25V15.625H6.875V25.625C6.875 32.8621 12.7628 38.75 20 38.75C27.2372 38.75 33.125 32.8621 33.125 25.625V15.625H30ZM12.5 11.25C12.5 9.26088 13.2902 7.35322 14.6967 5.9467C16.1032 4.54018 18.0109 3.75 20 3.75C21.9891 3.75 23.8968 4.54018 25.3033 5.9467C26.7098 7.35322 27.5 9.26088 27.5 11.25V15.625H12.5V11.25ZM30.625 25.625C30.625 31.4836 25.8586 36.25 20 36.25C14.1414 36.25 9.375 31.4836 9.375 25.625V18.125H30.625V25.625Z",fill:"#333333"}})])},In=[],En={name:"passwordIcon"},An=En,On=Object(f["a"])(An,Fn,In,!1,null,"3d899d96",null),Tn=On.exports,Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M19 1L1 19M1 1L19 19",stroke:"#616161","stroke-linecap":"round"}})])},Sn=[],Ln={name:"deleteIcon"},Nn=Ln,Rn=Object(f["a"])(Nn,Mn,Sn,!1,null,"66f72e37",null),Bn=Rn.exports,qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M10.3338 18.3501C10.1038 18.3501 9.94877 18.3726 9.86877 18.3951V19.8676C9.96377 19.8901 10.0825 19.8963 10.2463 19.8963C10.845 19.8963 11.2138 19.5938 11.2138 19.0826C11.2138 18.6251 10.8963 18.3501 10.3338 18.3501ZM14.6925 18.3651C14.4425 18.3651 14.28 18.3876 14.1838 18.4101V21.6726C14.28 21.6951 14.435 21.6951 14.575 21.6951C15.5963 21.7026 16.2613 21.1401 16.2613 19.9501C16.2688 18.9126 15.6625 18.3651 14.6925 18.3651Z",fill:"#616161"}}),n("path",{attrs:{d:"M17.5 2.5H7.5C6.83696 2.5 6.20107 2.76339 5.73223 3.23223C5.26339 3.70107 5 4.33696 5 5V25C5 25.663 5.26339 26.2989 5.73223 26.7678C6.20107 27.2366 6.83696 27.5 7.5 27.5H22.5C23.163 27.5 23.7989 27.2366 24.2678 26.7678C24.7366 26.2989 25 25.663 25 25V10L17.5 2.5ZM11.8725 20.2375C11.4863 20.6 10.9162 20.7625 10.2525 20.7625C10.1238 20.7639 9.99516 20.7564 9.8675 20.74V22.5225H8.75V17.6025C9.25432 17.5273 9.7639 17.493 10.2737 17.5C10.97 17.5 11.465 17.6325 11.7987 17.8988C12.1163 18.1513 12.3312 18.565 12.3312 19.0525C12.33 19.5425 12.1675 19.9563 11.8725 20.2375ZM16.6313 21.9313C16.1063 22.3675 15.3075 22.575 14.3313 22.575C13.7463 22.575 13.3325 22.5375 13.0513 22.5V17.6038C13.5558 17.5301 14.0652 17.4954 14.575 17.5C15.5212 17.5 16.1363 17.67 16.6163 18.0325C17.135 18.4175 17.46 19.0313 17.46 19.9125C17.46 20.8663 17.1112 21.525 16.6313 21.9313ZM21.25 18.4625H19.335V19.6013H21.125V20.5188H19.335V22.5238H18.2025V17.5375H21.25V18.4625ZM17.5 11.25H16.25V5L22.5 11.25H17.5Z",fill:"#616161"}})])},Hn=[],Wn={name:"pdfIcon"},zn=Wn,Gn=Object(f["a"])(zn,qn,Hn,!1,null,"6bec5be6",null),Un=Gn.exports,Zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M37 1V73M73 37L1 37",stroke:"#616161","stroke-width":"2","stroke-linecap":"round"}})])},Qn=[],Kn={name:"addNewIcon"},Xn=Kn,Yn=Object(f["a"])(Xn,Zn,Qn,!1,null,"432a762a",null),Jn=Yn.exports,ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M7.5 1.25009C4.05375 1.25009 1.25 4.05384 1.25 7.50009V10.0895C1.25 10.7295 2.43562 11.2501 3.125 11.2501H3.75C3.91576 11.2501 4.07473 11.1842 4.19194 11.067C4.30915 10.9498 4.375 10.7909 4.375 10.6251V7.41072C4.375 7.24496 4.30915 7.08598 4.19194 6.96877C4.07473 6.85156 3.91576 6.78572 3.75 6.78572H3.1825C3.53 4.36697 4.98625 3.12509 7.5 3.12509C10.0138 3.12509 11.47 4.36697 11.8175 6.78572H11.25C11.0842 6.78572 10.9253 6.85156 10.8081 6.96877C10.6908 7.08598 10.625 7.24496 10.625 7.41072V11.2501C10.625 11.9395 10.0644 11.8751 9.375 11.8751H8.75V11.2501H6.25V13.1251H9.375C10.7537 13.1251 11.875 12.6288 11.875 11.2501C12.5644 11.2501 13.75 10.7295 13.75 10.0895V7.50009C13.75 4.05384 10.9462 1.25009 7.5 1.25009Z",fill:"white"}})])},ti=[],ni={name:"supportIcon"},ii=ni,ai=Object(f["a"])(ii,ei,ti,!1,null,"6a6441d6",null),si=ai.exports,oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M7.03125 2.8125V6.5625C7.03129 6.62407 7.01919 6.68504 6.99565 6.74193C6.9721 6.79882 6.93758 6.85051 6.89404 6.89404C6.85051 6.93758 6.79882 6.9721 6.74193 6.99565C6.68504 7.01919 6.62407 7.03129 6.5625 7.03125H2.8125C2.75093 7.03129 2.68996 7.01919 2.63307 6.99565C2.57618 6.9721 2.52449 6.93758 2.48096 6.89404C2.43742 6.85051 2.4029 6.79882 2.37935 6.74193C2.35581 6.68504 2.34371 6.62407 2.34375 6.5625V2.8125C2.34371 2.75093 2.35581 2.68996 2.37935 2.63307C2.4029 2.57618 2.43742 2.52449 2.48096 2.48096C2.52449 2.43742 2.57618 2.4029 2.63307 2.37935C2.68996 2.35581 2.75093 2.34371 2.8125 2.34375H6.5625C6.62407 2.34371 6.68504 2.35581 6.74193 2.37935C6.79882 2.4029 6.85051 2.43742 6.89404 2.48096C6.93758 2.52449 6.9721 2.57618 6.99565 2.63307C7.01919 2.68996 7.03129 2.75093 7.03125 2.8125ZM12.1875 2.34375H8.4375C8.37593 2.34371 8.31496 2.35581 8.25807 2.37935C8.20118 2.4029 8.14949 2.43742 8.10596 2.48096C8.06242 2.52449 8.0279 2.57618 8.00435 2.63307C7.98081 2.68996 7.96871 2.75093 7.96875 2.8125V6.5625C7.96871 6.62407 7.98081 6.68504 8.00435 6.74193C8.0279 6.79882 8.06242 6.85051 8.10596 6.89404C8.14949 6.93758 8.20118 6.9721 8.25807 6.99565C8.31496 7.01919 8.37593 7.03129 8.4375 7.03125H12.1875C12.2491 7.03129 12.31 7.01919 12.3669 6.99565C12.4238 6.9721 12.4755 6.93758 12.519 6.89404C12.5626 6.85051 12.5971 6.79882 12.6206 6.74193C12.6442 6.68504 12.6563 6.62407 12.6562 6.5625V2.8125C12.6563 2.75093 12.6442 2.68996 12.6206 2.63307C12.5971 2.57618 12.5626 2.52449 12.519 2.48096C12.4755 2.43742 12.4238 2.4029 12.3669 2.37935C12.31 2.35581 12.2491 2.34371 12.1875 2.34375ZM6.5625 7.96875H2.8125C2.75093 7.96871 2.68996 7.98081 2.63307 8.00435C2.57618 8.0279 2.52449 8.06242 2.48096 8.10596C2.43742 8.14949 2.4029 8.20118 2.37935 8.25807C2.35581 8.31496 2.34371 8.37593 2.34375 8.4375V12.1875C2.34371 12.2491 2.35581 12.31 2.37935 12.3669C2.4029 12.4238 2.43742 12.4755 2.48096 12.519C2.52449 12.5626 2.57618 12.5971 2.63307 12.6206C2.68996 12.6442 2.75093 12.6563 2.8125 12.6562H6.5625C6.62407 12.6563 6.68504 12.6442 6.74193 12.6206C6.79882 12.5971 6.85051 12.5626 6.89404 12.519C6.93758 12.4755 6.9721 12.4238 6.99565 12.3669C7.01919 12.31 7.03129 12.2491 7.03125 12.1875V8.4375C7.03129 8.37593 7.01919 8.31496 6.99565 8.25807C6.9721 8.20118 6.93758 8.14949 6.89404 8.10596C6.85051 8.06242 6.79882 8.0279 6.74193 8.00435C6.68504 7.98081 6.62407 7.96871 6.5625 7.96875ZM12.1875 7.96875H8.4375C8.37593 7.96871 8.31496 7.98081 8.25807 8.00435C8.20118 8.0279 8.14949 8.06242 8.10596 8.10596C8.06242 8.14949 8.0279 8.20118 8.00435 8.25807C7.98081 8.31496 7.96871 8.37593 7.96875 8.4375V12.1875C7.96871 12.2491 7.98081 12.31 8.00435 12.3669C8.0279 12.4238 8.06242 12.4755 8.10596 12.519C8.14949 12.5626 8.20118 12.5971 8.25807 12.6206C8.31496 12.6442 8.37593 12.6563 8.4375 12.6562H12.1875C12.2491 12.6563 12.31 12.6442 12.3669 12.6206C12.4238 12.5971 12.4755 12.5626 12.519 12.519C12.5626 12.4755 12.5971 12.4238 12.6206 12.3669C12.6442 12.31 12.6563 12.2491 12.6562 12.1875V8.4375C12.6563 8.37593 12.6442 8.31496 12.6206 8.25807C12.5971 8.20118 12.5626 8.14949 12.519 8.10596C12.4755 8.06242 12.4238 8.0279 12.3669 8.00435C12.31 7.98081 12.2491 7.96871 12.1875 7.96875Z",fill:"white"}})])},ri=[],li={name:"tileIcon"},ci=li,ui=Object(f["a"])(ci,oi,ri,!1,null,"6bf1ee0b",null),di=ui.exports;i["a"].use(xn["a"]);var fi=new xn["a"]({theme:{themes:{options:{customProperties:!0},light:{primary:"#3D6FB6",secondary:"#616161",accent:"#673ab7",alert:"#f44336",error:"#f44336",warning:"#ff9800",info:"#3D6FB6",success:"#3D6FB6",text:{primary:"#333333",secondary:"#616161"}}}},icons:{values:{addNew:{component:Jn},addPhoto:{component:He},archive:{component:Ht},deleteIcon:{component:Bn},edit:{component:Ie},login:{component:Vn},password:{component:Tn},pdf:{component:Un},support:{component:si},tile:{component:di},waste:{component:$e}}}}),_i=n("2004"),vi=n.n(_i);i["a"].config.productionTip=!1,new i["a"]({router:kn,vuetify:fi,render:function(e){return e(F)}}).$mount("#app"),i["a"].use(vi.a,{name:"v-editor",editorConfig:{uploadImgUrl:"/api/upload",printLog:!1,useLang:"en"},uploadHandler:function(e,t){if("success"===e){var n=JSON.parse(t);return 1!==n.status?null:n.data}return"error"===e?alert("Ошибка загрузки"):"timeout"===e&&alert("Время ожидания превышено"),"upload failed__"}})},"7f19":function(e,t,n){e.exports=n.p+"img/about.png"},8083:function(e,t,n){e.exports=n.p+"img/reviews1.png"},"85ec":function(e,t,n){},"8b2d":function(e,t,n){e.exports=n.p+"img/9445bb5d2187e2812c79db70cf.jpg"},"937c":function(e,t,n){e.exports=n.p+"img/avatar.jpg"},a42f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABcCAYAAABtNZskAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAveSURBVHgB7V0NcBRnGX4C4UdIaaAhQBrIBQppxBIqpdjyk/CnFIeKMkBpmYEwVgYo4IiKipBMiQoOKrWOSgoGUKx1xkZkOiClTToOScAWYvnRIk0o/lVaE5pUoKRwfZ9+u5PrsXe7l5/b3eN7Zp65u91vN3f77vt+799+ATQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQSGLeEvO8ivNV4NdFd2BM+QFckBiiQq2HbUoSXhVnCJOF14TXhUOP9/cYYXoM+wiZhD2FfYTKUUP8PDyAJ/gUv5PsW2wdCackg4cegLvwnhGeFd0EJ5U/C4cLzwtHGMTnCNGE1lNB3C5uN4xrhIvwsJBO88PwdQWFvKKHw81HhOOEA4UnhEmEqlJCoNfVQGsXxdwtbhLcb72kWewn/JqwUviD8M5SWnUSc4WchDYMSEO98ahUFQM3ihX4Qyqw9Jfwk1IWdAKUp56BMHX87tYkaR8G9AyWwM8b5uhvnojbyBmgwSOE/ASW0uMCPQuomnCZ8XRiA0gje4elQF5/adNV4/SeU4KgVr0KZrveEecKPC4cY++40zk3BU1AtxvaLUMKnkEKvFc9ZI1wqPI1Ohl+ExO+ZKcyAMlV/NbZz7rgPygHgHT9G+Avh36Eu5DWH579NOFWYbZwjH0qTUqMcQ8FR4N8XlkFp6E0Lel68iKZL3d94pZlaISwUFgj7oeMwA0rYFESL8WrHx3ETgmaNAkkP2ca5gwKjeZpsvO9M0H3fBGdCIotwE4HmjXOKGWxSi2jSBgtH4KOCiwcCwgNwJqifQs1nNxUoGE7o9NI4/3SDe/ge1JwYLpjrYZ/XogPh5YwDtYVxzni0ZgHoSTXDPTBeoodIM5sdsj3cAaMTwgD4CDoAXvPuqCWMZcwYiN4TPbm/CC/BO2AMRoEFoox5AypeexXthJeERHd3LpQ3xfiEweUF4Sl4EwHh76DMcCQwFLgX6vf4HoyBdgrLoTSmVLgKKvbxMgJQwXQ0R+JbSADQcysTLhAegjIP34XKBvgBAeEJRBdUIXwMZhDmQKVpmAj9IZRjcC/8hVwoRyGSkN5G9OyFp5EF9eXzhaOEzwlXw5/4EqJr0y60EW664BQOgz6zahqAcm2fgXIY/IZXoObQCRH2c979LXzkRDB7YEblrN9QOM9CmT4/g0nZ44isTc+gDXBLkx6CEhTjIAaFDP6oUU9CRe9+BbPudH6+COvMCK0H61HnEQO6IP5gVpulaubmOCexj4B1oJdhXQ73G1jn2hxhH4uIdyBGuCEk5uKqoITE7AIF8z/h80gc/Bgq42CFDYgRbgiJtvkKWuclvrKS+l8kDugc7Iywj+Y9HzEg3kKiutOTozb9QzhS+BvhXiQetiKyJ/dZxIB4C4kCosbQzN1u/H2augokHiig7RH23YcYEG8hscctAFVA+zdUdfUAEhfsfwhabM9GDIi3kDgX0e1mMyJTP6wTRYvER6ekpBQkJydPys/Pn1hSUnJPWVlZAO3A3LlzRweDwVsdDqfL/A3hnh49ehzKycmpmDJlyu7NmzfPlnM4qb6+JXzJYjutyGB4FJ+GisinC38v/GOUsawp1c6aNSu4cOHCx1JTU1mbeaRLly4lgUDgufT09OPjxo0rX7FixUNywQbBGV6aPZvXNzjdbuCAAQNWr1mz5tDBgwfHm9tEwIwrvyzfoX7GjBnn9+/fvwL2oJNgFdjeBY/iASgTx2CWgesjNuN3rly5skUuaqTkJPNl/1q0aFG9jCmIfirkZmVlBQcNGkQhrYk2cNKkSdt37dq1UcZFsjQB4YuLFy8OHj169H7Yg82Z4UJ6EB4EXW0GsguhgtdfCx+2OWbu/PnzeVEnRhnDZsaX5S5/Q8aNjzRI7v4fVVdX/0pM55nS0lIKNdlqXJ8+fYqOHTv2S9iDJqtp27ZtDQ7Gfh03CukBeBDsWaAGsU70GeGLwi/YHFPIu1WQYzNurDB49uzZsgj7A2vXrqUQA/J+yZgxY3jOz1mN27Bhw9vGOCfYKnMUzzXWZhwD9/BSRh48CE7W1CSakNnCPVAaFQ2zV61adU0uwgjYo7GioqLWasfYsWNLT58+vT5kU0N5eXmlxdDdtbW1kQRthYdpQgVOyiuMm0wBmX3njhBP744VWCYdM42/y8dR7EzFlVGjRp1LSko6A3tcbG5ubrHYni2Ox/Tc3NySkG1P7Nu3L18ubujdnCRaMSsvL68czrG/f//+jIfedDCWWf4rxnveCO/Bg2DllV02VP1vCr8Kezc0x/DGRtuMS5e5JFhfX18avmPmzJnlcvwNaZh+/fqdq6qqejJkU4G4+ZHMYCSkdO3atUKOKXYwlprDMjrNnp15/AjiqUm9jb/HRhO2abFA1t3mGKeu9Yx58+ZdFNc89KJDLuCjRUVFl0QTb4hVGhoaSvfs2fNYiOd46cKFD2uNsXTHpknsxBvohM04/k5qDjUogDg+NhMr2Nd9m8FZUGVyOyHcXVBQcF0u5OQoY5Ik0KwTzy08/zdHYqvg0KFDTwifX7Bgwc8yMzOLxLsrkn0bRKCvyPbGurq6jcZ4zpmNNTU1f4BzfGXLli3nHIzrDZ+Apo53HWtIP4fqsbNT+9Rp06a9JUKaGWF/ckZGxnYJOivCPbKePXsWHzlyZHu0k8uY76xbt+5yiDZVy/xFR2UC7BEoLCysd2geTSFxTnbsMLgBCofxApvwqe6PCifaHDNcLkRjhDlphLjSL2zdunWTRbA7VFxpBsFpNue/Iy0t7U2ZyzYZn/OpfUuXLq2yccMDMn+9durUqaWIDWxGvQUeBp0Emhbm62ia9kF5eNEwceTIkZzMF4dsK5CUzA/mzJnzrKRsLB0KmSeOHz58uBjOsLe4uLg+RNDLhMH169cfsxBUryFDhqyU2O2AmMlJcA6a+l4GPS0k4vNQTZAsT9QJ74kylhmKn8i8EZw6derTgwcP3iKas2v58uWPNzU13RnluI1hF90Oq8Vk8kb4Wsi2xQMHDjwwbNiw63TJs7Ozvy0sWbZs2VOVlZWTERv6Gq/mYzxOk7uugU2EzDYw7cJy+bhog2XOCAizduzYkQHnSI1BQB+ONzLjVseMFkejQFJTeTFkzsNBz65vyOeY56R4N+zzy7IRg3EL4ya64SthXXNJFPA308wxPmI3UcxBbLxbuhhxMxhZjtamSH5pJxkFv4JZEN6MFBK1KuaOKDcaUQJQyVVOoBRSLKbMj+DvNF3wy2gD3BAS83XUJua8mDilI5EIK7NYwVzT6HW0A24IifV9xkwsofPOomuei8QDBcQSi5lUHY42wo02Y9M2MyXE7DGfpuCcdByJBfPRUjND7qQ4aAk3hMSJ06yp0NthLwMDQyZB/fg0hRVoocybsAXthFsN+xQSfwRjBiZc+aPYxVqDxAB/H5cSaLeA3AaXmTHXC3oaqlkj5mZ2H6DdCVU3HAcT9Hrehept4wKAXChwL3z82KKB0Mw+U0HtrsC6KSS64Iwh2BP+GtR6QXxuZwn8i0+hdZVJ5h6voAPg9oootNtMmdDzYYsVHwBmA2U9YnzQygNgYM5OKK47QYfoKhIQdMv5YPN8qLV5PNuGawHe7CybdEoZwktrC/HuYxM/q6K043ws5iQ82lUTBgqIms+wghahQx8pdXNOsgJjJbqt/4FyKjLhffDBbC5PYwarHf5IqRdX6eKDv3TLmTJivYlmjwtwvAPvgd4b13nt1PnHi0KiJrFqS8HQO6K2Z4V8drquameCeTneSHFZL9yLQjKfpWVKhfMRXXTesSwSmubPzQUrKCAW8pjCYu9Cpy/x5kUh0XSYdRdqD5cQ4GTMWIrLRJvfuQnxh5nC4vfhd/TSGnyuI7xPQMOjMJ8nSjFe4+GZJoX8PY0YQY/PXBaGHqCVq27XZ24FT3aX+rVsTQFw7qIzwVQSGz3eNfZxzqJppCCvGfvZY8C0DWMZOiL0IFmQ64fW/0XBOa9byHk0OghWvXDRUjMUaoYxxmuBfEKjZ9h7Woe2eK167vEItIeooaGhoaGhERXmQk10u+n9hTsPnvfqPgATmDq6CwvgbQAAAABJRU5ErkJggg=="},a637:function(e,t,n){e.exports=n.p+"img/9445bb5d2187e2812c79db70cf.jpg"},c887:function(e,t,n){e.exports=n.p+"img/9445bb5d2187e2812c79db70cf.jpg"},cf05:function(e,t,n){e.exports=n.p+"img/logo.png"}});
//# sourceMappingURL=app.js.map